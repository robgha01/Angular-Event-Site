{"version":3,"sources":["webpack:///./src/typescript/BlueLeet.UComponents.ts","webpack:///external \"angular\"","webpack:///./src/typescript/Resources/Datatype.Resource.ts","webpack:///./src/typescript/Resources/Dictionary.Resource.ts","webpack:///./src/typescript/Resources/Editor-Helper.Resource.ts","webpack:///./src/typescript/Resources/Slimsy.Resource.ts","webpack:///./src/typescript/Resources/ThemePicker.Resource.ts","webpack:///./~/babel-runtime/core-js/promise.js","webpack:///./~/core-js/library/fn/promise.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/es6.promise.js","webpack:///./~/core-js/library/modules/_classof.js","webpack:///./~/core-js/library/modules/_an-instance.js","webpack:///./~/core-js/library/modules/_for-of.js","webpack:///./~/core-js/library/modules/_iter-call.js","webpack:///./~/core-js/library/modules/_is-array-iter.js","webpack:///./~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/core-js/library/modules/_species-constructor.js","webpack:///./~/core-js/library/modules/_task.js","webpack:///./~/core-js/library/modules/_invoke.js","webpack:///./~/core-js/library/modules/_microtask.js","webpack:///./~/core-js/library/modules/_redefine-all.js","webpack:///./~/core-js/library/modules/_set-species.js","webpack:///./~/core-js/library/modules/_iter-detect.js","webpack:///./src/typescript/Services/Text-Pixel.Service.ts","webpack:///./src/typescript/Services/Share-Seo-Data.Service.ts","webpack:///external \"_\"","webpack:///./src/typescript/Directives/rangesliderDirective.ts","webpack:///./src/typescript/Controllers/Directives/GridRteController.ts","webpack:///./src/typescript/Controllers/Pipes/capitalizePipe.ts","webpack:///./src/typescript/Controllers/Extendings/dashboardController.ts","webpack:///./~/babel-runtime/core-js/object/create.js","webpack:///./~/core-js/library/fn/object/create.js","webpack:///./~/core-js/library/modules/es6.object.create.js","webpack:///./~/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./~/core-js/library/fn/object/set-prototype-of.js","webpack:///./~/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./~/core-js/library/modules/_set-proto.js","webpack:///./~/core-js/library/modules/_object-gopd.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./src/typescript/Controllers/Abstraction/ControllerBase.ts","webpack:///./src/typescript/Controllers/GridEditors/googleMapsController.ts","webpack:///./src/typescript/Controllers/GridEditors/googleMapsSettingController.ts","webpack:///./src/typescript/Controllers/GridEditors/goToTopController.ts","webpack:///./src/typescript/Controllers/GridEditors/headlineController.ts","webpack:///./src/typescript/Controllers/GridEditors/headlineNLeadController.ts","webpack:///./src/typescript/Controllers/GridEditors/cardController.ts","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///./src/typescript/Controllers/PropertyEditors/multiLinkPickerController.ts","webpack:///./src/typescript/Controllers/Components/TreeSourceModel.ts","webpack:///./src/typescript/Controllers/Components/TreeSourceHelper.ts","webpack:///./~/babel-runtime/helpers/typeof.js","webpack:///./~/babel-runtime/core-js/symbol/iterator.js","webpack:///./~/core-js/library/fn/symbol/iterator.js","webpack:///./~/core-js/library/modules/_wks-ext.js","webpack:///./~/babel-runtime/core-js/symbol.js","webpack:///./~/core-js/library/fn/symbol/index.js","webpack:///./~/core-js/library/modules/es6.symbol.js","webpack:///./~/core-js/library/modules/_meta.js","webpack:///./~/core-js/library/modules/_wks-define.js","webpack:///./~/core-js/library/modules/_keyof.js","webpack:///./~/core-js/library/modules/_enum-keys.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/_object-gopn-ext.js","webpack:///./~/core-js/library/modules/_object-gopn.js","webpack:///./~/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./~/core-js/library/modules/es7.symbol.observable.js","webpack:///./src/typescript/Controllers/Components/TreeSourceType.ts","webpack:///./src/typescript/Controllers/Components/Link.ts","webpack:///./src/typescript/Controllers/GridEditors/cardSettingController.ts","webpack:///./src/typescript/Controllers/GridEditors/imageNTextController.ts","webpack:///./src/typescript/Controllers/GridEditors/imageNTextSettingController.ts","webpack:///./src/typescript/Controllers/GridEditors/imageSettingController.ts","webpack:///./src/typescript/Controllers/GridEditors/quoteController.ts","webpack:///./src/typescript/Controllers/GridEditors/separatorController.ts","webpack:///./src/typescript/Controllers/PreValueEditors/externalLinkController.ts","webpack:///./src/typescript/Controllers/PreValueEditors/treeSourceController.ts","webpack:///./src/typescript/Controllers/PreValueEditors/multiTreeSourceController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/advancedSeoPreviewController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/dropdownController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/robotsController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/textBoxKeywordController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/textWithModeCountController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/toggleBoxAndSliderController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/toggleBoxController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/themePickerController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/macroListController.ts","webpack:///./src/typescript/Controllers/PropertyEditors/keyValuePairEditorController.ts","webpack:///external \"jQuery\""],"names":[],"mappings":";;;;AAA0C;AAKvC;;;;;;;;AAEH,mCAAmC;AAEhB;AACnB,+CAAiE;AACjE,iDAAqE;AACrE,oDAA0E;AAC1E,6CAA6D;AAC7D,kDAAuE;AAEhE,SAAO,OAAqB,qBAAQ,QAAmB,oBAAE,oBAAkB;AAC3E,SAAO,OAAqB,qBAAQ,QAAqB,sBAAE,sBAAoB;AAC/E,SAAO,OAAqB,qBAAQ,QAAuB,wBAAE,yBAAsB;AACnF,SAAO,OAAqB,qBAAQ,QAAiB,kBAAE,kBAAgB;AACvE,SAAO,OAAqB,qBAAQ,QAAsB,uBAAE,uBAAqB;AAEtE;AAClB,gDAAiE;AACjE,oDAAwE;AAEjE,SAAO,OAAoB,oBAAQ,QAAmB,oBAAE,qBAAkB;AAC1E,SAAO,OAAoB,oBAAQ,QAAsB,uBAAE,yBAAqB;AAEnE;AACpB,kDAAyE;AACzE,+CAAuF;AAEhF,SAAO,OAAsB,sBAAU,UAAc,eAAO,uBAAsB;AAClF,SAAO,OAAsB,sBAAU,UAAkB,mBAAO,oBAA2B;AAEzE;AACzB,4CAAgE;AAEzD,SAAO,OAAW,WAAO,OAAa,cAAE,iBAAY;AAEtC;AACrB,iDAAmF;AACnF,kDAAsF;AACtF,yDAAoG;AACpG,+CAAgF;AAChF,gDAAkF;AAClF,qDAA4F;AAC5F,4CAA0E;AAC1E,mDAAwF;AACxF,kDAAsF;AACtF,yDAAoG;AACpG,oDAA0F;AAC1F,6CAA4E;AAC5E,iDAAoF;AACpF,oDAA8F;AAC9F,kDAA0F;AAC1F,uDAAoG;AACpG,0DAA0G;AAC1G,gDAAsF;AACtF,uDAAoG;AACpG,8CAAkF;AAClF,sDAAkG;AAClG,yDAAwG;AACxG,0DAA0G;AAC1G,iDAAwF;AACxF,mDAA4F;AAC5F,iDAAwF;AACxF,0DAA0G;AAEnG,SAAO,OAAW,WAAW,WAA0C,2CAAE,sBAAqB;AAC9F,SAAO,OAAW,WAAW,WAA4C,6CAAE,uBAAsB;AACjG,SAAO,OAAW,WAAW,WAAmD,oDAAE,8BAA6B;AAC/G,SAAO,OAAW,WAAW,WAAyC,0CAAE,oBAAmB;AAC3F,SAAO,OAAW,WAAW,WAA0C,2CAAE,qBAAoB;AAC7F,SAAO,OAAW,WAAW,WAA+C,gDAAE,0BAAyB;AACvG,SAAO,OAAW,WAAW,WAAsC,uCAAE,iBAAgB;AACrF,SAAO,OAAW,WAAW,WAA6C,8CAAE,wBAAuB;AACnG,SAAO,OAAW,WAAW,WAA4C,6CAAE,uBAAsB;AACjG,SAAO,OAAW,WAAW,WAAmD,oDAAE,8BAA6B;AAC/G,SAAO,OAAW,WAAW,WAA8C,+CAAE,yBAAwB;AACrG,SAAO,OAAW,WAAW,WAAuC,wCAAE,kBAAiB;AACvF,SAAO,OAAW,WAAW,WAA2C,4CAAE,sBAAqB;AAC/F,SAAO,OAAW,WAAW,WAAkD,mDAAE,yBAAwB;AACzG,SAAO,OAAW,WAAW,WAAgD,iDAAE,uBAAsB;AACrG,SAAO,OAAW,WAAW,WAAqD,sDAAE,4BAA2B;AAC/G,SAAO,OAAW,WAAW,WAA+C,gDAAE,sBAAqB;AACnG,SAAO,OAAW,WAAW,WAAwD,yDAAE,+BAA8B;AACrH,SAAO,OAAW,WAAW,WAA8C,+CAAE,qBAAoB;AACjG,SAAO,OAAW,WAAW,WAAqD,sDAAE,4BAA2B;AAC/G,SAAO,OAAW,WAAW,WAA4C,6CAAE,mBAAkB;AAC7F,SAAO,OAAW,WAAW,WAAoD,qDAAE,2BAA0B;AAC7G,SAAO,OAAW,WAAW,WAAuD,wDAAE,8BAA6B;AACnH,SAAO,OAAW,WAAW,WAAwD,yDAAE,+BAA8B;AACrH,SAAO,OAAW,WAAW,WAA+C,gDAAE,sBAAqB;AACnG,SAAO,OAAW,WAAW,WAAiD,kDAAE,wBAAuB;AACvG,SAAO,OAAW,WAAW,WAAwD,yDAAE,+BAA8B,8B;;;;;;AChG5H,0B;;;;;;ACA2C;;;;AASzC;;;;;;;;AACF;AAII,+BAAiB;AADjB,cAAO,UAAG,CAAU;AAEZ,cAAM,QACd;AAAC;AAED,gCAAS,YAAT,UAAc;AACJ,gBAAK,KAAM,MAAI,IAAsD,wDAC/E;AAAC;AACL,YAAC;AAAA;AAXY,4BAAgB,iB;;;;;;;;;ACVc;AAC3C;AAKI,iCAAc,IAAO;AADrB,cAAO,UAAG,CAAK,MAAW;AAElB,cAAG,KAAM;AACT,cAAM,QACd;AAAC;AAED,kCAAO,UAAP,UAAY;AAAZ,qBAKC;AAJS,qBAAW,MAAI,IAAgE,gEAAK,KAAC,UAAQ;AAC/F,iBAAQ,OAAW,SAAK,KAAO,OAAM,MAAK,KAAI;AACxC,oBAAK,MAAM,MAAI,IAAC,6CAA+C,sBACzE;AACJ,UAJe;AAId;AACL,YAAC;AAAA;AAhBY,8BAAkB,mB;;;;;;;;;ACDY;AAQzC;;;;;;;;AACF;AAKI,mCAA8B,oBAAe;AAD7C,cAAO,UAAG,CAAqB,sBAAmB;AAE1C,cAAmB,qBAAsB;AACzC,cAAc,gBACtB;AAAC;AAED,oCAAU,aAAV,UAA2B,kBAAa,aAAa;AAC9C,aAAY,gBAAM,KAAe,gBAAW,OAAE;AACvC,oBACV;AAAM,gBAAE;AACE,oBAAiB,mBAAO,OAClC;AACJ;AAAC;AAED,oCAAiB,oBAAjB,UAAyB;AAAzB,qBAsBC;AArBM,aAAQ,QAAO,OAAO,OAAY,YAAE;AACnC,iBAAe;AACZ,iBAAQ,QAAO,OAAO,OAAgB,gBAAE;AACnC,sBAAmB,mBAAQ,QAAQ,QAAO,OAAO,OAAgB,gBAC5D,KAAC,UAAQ;AACA,kCAAW,SAAK,KAAU;AACjC,yBAAQ,QAAO,OAAO,OAAiB,iBAAE;AACpC,+BAAc,cAAK;AACX,uCAAS,QAAO,OAAO,OAAgB;AACvC,yDAAK;AACH,wCACV;AAAC;AACS;AACD,wCAAS;AACX,sCAGf;AALoB;AALQ;AAWhC;AACR;AACJ;AACJ;AAAC;AACL,YAAC;AAAA;AAzCY,gCAAoB,qB;;;;;;ACTU;;;;AASzC;;;;;;;;AACF;AAII,6BAAiB;AADjB,cAAO,UAAG,CAAU;AAEZ,cAAM,QACd;AAAC;AAED,8BAAW,cAAX,UAAsB,IAAe,OAAgB;AACjD,aAAU;AACA,qBAAE,EAAI,QAAO,cAAQ,QAAE;AACtB,sBAAE,EAAU,UACrB;AAHW;AAKP,gBAAK,KAAM,MAAI,IAA2D,4DACpF;AAAC;AACL,YAAC;AAAA;AAhBY,0BAAc,e;;;;;;ACVgB;;;;;;;;;;AASzC;;;;;;;;AACF;AAKI,kCAAiB,OAAe;AADhC,cAAO,UAAG,CAAQ,SAAmB;AAE7B,cAAM,QAAS;AACf,cAAc,gBACtB;AAAC;AAED,mCAAS,YAAT,UAAgB;AAAhB,qBAaC;AAZS,sCAAa,UAAQ;AACnB,mBAAc,cAAU,UAAO,QAAE;AACjC,qBAAU;AACA,6BAAI;AACH,8BAAE,EAAU,UACrB;AAHW;AAKT,uBAAM,MAAI,IAAiD,kDAAS,QAAK,KAAC,UAAM;AACzE,6BACX;AACJ;AACJ;AACJ,UAZsB;AAYrB;AACL,YAAC;AAAA;AAxBY,+BAAmB,oB;;;;;;ACVhC,mBAAkB,uD;;;;;;ACAlB;AACA;AACA;AACA;AACA,kD;;;;;;;;;;;;ACJA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B,eAAc;AACd;AACA,EAAC;AACD;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA,WAAU;AACV,EAAC,E;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B,aAAa;;AAEzC;AACA;AACA;AACA;AACA;AACA,yCAAwC,oCAAoC;AAC5E,6CAA4C,oCAAoC;AAChF,MAAK,2BAA2B,oCAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAiC,2BAA2B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,G;;;;;;ACrEA,uB;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd,eAAc;AACd,eAAc;AACd,gBAAe;AACf,gBAAe;AACf,gBAAe;AACf,iBAAgB;AAChB,0B;;;;;;AC5DA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,G;;;;;;ACFA;AACA,sEAAsE,gBAAgB,UAAU,GAAG;AACnG,EAAC,E;;;;;;ACFD;AACA;AACA,kCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,EAAC,E;;;;;;ACHD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA,0C;;;;;;ACAA,wBAAuB;AACvB;AACA;AACA,G;;;;;;ACHA,qB;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAAgF,aAAa,EAAE;;AAE/F;AACA,sDAAqD,0BAA0B;AAC/E;AACA,G;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;;;;;ACxCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA,kBAAiB;;AAEjB;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,WAAW,eAAe;AAC/B;AACA,MAAK;AACL;AACA,G;;;;;;ACpBA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA,oDAAmD;AACnD;AACA,wCAAuC;AACvC,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,c;;;;;;ACHA,+E;;;;;;ACAA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wB;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACZA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA,yGAAwG,OAAO;AAC/G;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,eAAc;AACd,kBAAiB;AACjB;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,6B;;;;;;ACjCA,6BAA4B,e;;;;;;ACA5B;AACA,WAAU;AACV,G;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA,gDAA+C,uDAAiD,oBAAoB;AACpH;AACA;AACA,IAAG,UAAU;AACb,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,oBAAmB,gCAAgC;AACnD,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,gBAAe,qCAAqC;AACpD;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH,mBAAkB,uBAAuB,KAAK;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,kBAAiB;AACjB,yBAAwB;AACxB,iBAAgB;AAChB,qBAAoB;AACpB,yBAAwB;AACxB,iBAAgB;AAChB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAA0D,kBAAkB;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,EAAC,E;;;;;;AC1SD;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB,EAAE;;AAE7C;AACA;AACA;AACA;AACA,IAAG,UAAU;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACtBA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA;AACA,IAAG,2CAA2C,gCAAgC;AAC9E;AACA;AACA;AACA;AACA;AACA,yB;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,wCAAuC,oBAAoB,EAAE;AAC7D;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,G;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,aAAa;AACjC,IAAG;AACH,G;;;;;;ACbA;AACA;;AAEA;AACA;AACA,gCAA+B,qBA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BiB,sBAAe,kBAA7B,UAAwC;AACjC,aAAC,OAAY,SAAa,UAAE;AACrB,oBAAS,SACnB;AAAM,gBAAI,IAAC,OAAY,SAAa,UAAE;AAC5B,oBACV;AAAC;AAED,eAAM,mBAAsB,QAAY,sBAAY,sEACxD;AAAC;AAEa,sBAAa,gBAA3B,UAAsD;AAClD,aAAO,MAAc;AAClB,aAAW,eAAK,iBAAc,eAAO,OAAE;AACnC,mBACP;AAAM,oBAAe,eAAK,iBAAc,eAAQ,QAAE;AAC3C,mBACP;AAAM,UAFI,MAEA,IAAW,eAAK,iBAAc,eAAa,aAAE;AAChD,mBACP;AAAC;AAEK,gBACV;AAAC;AACL,YAAC;AAAA;AAvBY,4BAAgB,iB;;;;;;ACF7B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,kHAAiH,mBAAmB,EAAE,mBAAmB,4JAA4J;;AAErT,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,EAAC;AACD;AACA,G;;;;;;ACpBA,mBAAkB,yD;;;;;;ACAlB;AACA;AACA,yD;;;;;;ACFA,qC;;;;;;ACAA,mBAAkB,yD;;;;;;ACAlB;AACA;AACA;AACA;AACA,iD;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAsB;AACtB,qBAAoB,uBAAuB,SAAS,IAAI;AACxD,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;AACzD;AACA,MAAK;AACL;AACA,uBAAsB,iCAAiC;AACvD,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D,8BAA8B;AAC5F;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2DAA0D,gBAAgB;;AAE1E;AACA;AACA;AACA,qBAAoB,oBAAoB;;AAExC,2CAA0C,oBAAoB;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH,yBAAwB,eAAe,EAAE;AACzC,yBAAwB,gBAAgB;AACxC,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,KAAK,QAAQ,iCAAiC;AAClG,EAAC;AACD;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD;AACjD,EAAC;AACD;AACA,sBAAqB;AACrB;AACA,UAAS;AACT,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,sBA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","file":"BlueLeet.UComponents.js","sourcesContent":["/// <reference path=\"./_references.d.ts\"/>\r\n/*! BlueLeet\r\n * http://blueleet.com/\r\n * Copyright (c) 2016 BlueLeet; \r\n * Licensed \r\n */\r\n\r\nimport * as angular from \"angular\";\r\n\r\n// Import Resources\r\nimport { DatatypeResource } from \"./Resources/Datatype.Resource\";\r\nimport { DictionaryResource } from \"./Resources/Dictionary.Resource\";\r\nimport { EditorHelperResource } from \"./Resources/Editor-Helper.Resource\";\r\nimport { SlimsyResource } from \"./Resources/Slimsy.Resource\";\r\nimport { ThemePickerResource } from \"./Resources/ThemePicker.Resource\";\r\n\r\nangular.module(\"umbraco.resources\").service(\"datatypeResource\", DatatypeResource);\r\nangular.module(\"umbraco.resources\").service(\"dictionaryResource\", DictionaryResource);\r\nangular.module(\"umbraco.resources\").service(\"editorHelperResource\", EditorHelperResource);\r\nangular.module(\"umbraco.resources\").service(\"slimsyResource\", SlimsyResource);\r\nangular.module(\"umbraco.resources\").service(\"themePickerResource\", ThemePickerResource);\r\n\r\n// Import Services\r\nimport { TextPixelService } from \"./Services/Text-Pixel.Service\";\r\nimport { ShareSeoDataService } from \"./Services/Share-Seo-Data.Service\";\r\n\r\nangular.module(\"umbraco.services\").service(\"textPixelService\", TextPixelService);\r\nangular.module(\"umbraco.services\").service(\"shareSeoDataService\", ShareSeoDataService);\r\n\r\n// Import Directives\r\nimport { RangeSliderDirective } from \"./Directives/rangesliderDirective\";\r\nimport { ExtendedGridRteController } from \"./Controllers/Directives/GridRteController\";\r\n\r\nangular.module(\"umbraco.directives\").directive(\"rangeslider\", <any>RangeSliderDirective);\r\nangular.module(\"umbraco.directives\").directive(\"extendedGridRte\", <any>ExtendedGridRteController);\r\n\r\n// Import Pipes (filters)\r\nimport { Capitalize } from \"./Controllers/Pipes/capitalizePipe\";\r\n\r\nangular.module(\"umbraco\").filter(\"capitalize\", Capitalize);\r\n\r\n// Import Controllers\r\nimport { DashboardController } from \"./Controllers/Extendings/dashboardController\";\r\nimport { GoogleMapsController } from \"./Controllers/GridEditors/googleMapsController\";\r\nimport { GoogleMapsSettingController } from \"./Controllers/GridEditors/googleMapsSettingController\";\r\nimport { GoToTopController } from \"./Controllers/GridEditors/goToTopController\";\r\nimport { HeadlineController } from \"./Controllers/GridEditors/headlineController\";\r\nimport { HeadlineNLeadController } from \"./Controllers/GridEditors/headlineNLeadController\";\r\nimport { CardController } from \"./Controllers/GridEditors/cardController\";\r\nimport { CardSettingController } from \"./Controllers/GridEditors/cardSettingController\";\r\nimport { ImageNTextController } from \"./Controllers/GridEditors/imageNTextController\";\r\nimport { ImageNTextSettingController } from \"./Controllers/GridEditors/imageNTextSettingController\";\r\nimport { ImageSettingController } from \"./Controllers/GridEditors/imageSettingController\";\r\nimport { QuoteController } from \"./Controllers/GridEditors/quoteController\";\r\nimport { SeparatorController } from \"./Controllers/GridEditors/separatorController\";\r\nimport { ExternalLinkController } from \"./Controllers/PreValueEditors/externalLinkController\";\r\nimport { TreeSourceController } from \"./Controllers/PreValueEditors/treeSourceController\";\r\nimport { MultiTreeSourceController } from \"./Controllers/PreValueEditors/multiTreeSourceController\";\r\nimport { AdvancedSeoPreviewController } from \"./Controllers/PropertyEditors/advancedSeoPreviewController\";\r\nimport { DropdownController } from \"./Controllers/PropertyEditors/dropdownController\";\r\nimport { MultiLinkPickerController } from \"./Controllers/PropertyEditors/multiLinkPickerController\";\r\nimport { RobotsController } from \"./Controllers/PropertyEditors/robotsController\";\r\nimport { TextBoxKeywordController } from \"./Controllers/PropertyEditors/textBoxKeywordController\";\r\nimport { TextWithModeCountController } from \"./Controllers/PropertyEditors/textWithModeCountController\";\r\nimport { ToggleBoxAndSliderController } from \"./Controllers/PropertyEditors/toggleBoxAndSliderController\";\r\nimport { ToggleBoxController } from \"./Controllers/PropertyEditors/toggleBoxController\";\r\nimport { ThemePickerController } from \"./Controllers/PropertyEditors/themePickerController\";\r\nimport { MacroListController } from \"./Controllers/PropertyEditors/macroListController\";\r\nimport { KeyValuePairEditorController } from \"./Controllers/PropertyEditors/keyValuePairEditorController\";\r\n\r\nangular.module(\"umbraco\").controller(\"BlueLeet.Extendings.DashboardController\", DashboardController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.GoogleMapsController\", GoogleMapsController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.GoogleMapsSettingController\", GoogleMapsSettingController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.GoToTopController\", GoToTopController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.HeadlineController\", HeadlineController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.HeadlineNLeadController\", HeadlineNLeadController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.CardController\", CardController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.CardSettingController\", CardSettingController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.ImageNTextController\", ImageNTextController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.ImageNTextSettingController\", ImageNTextSettingController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.ImageSettingController\", ImageSettingController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.QuoteController\", QuoteController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.GridEditors.SeparatorController\", SeparatorController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PreValueEditors.ExternalLinkController\", ExternalLinkController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PreValueEditors.TreeSourceController\", TreeSourceController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PreValueEditors.MultiTreeSourceController\", MultiTreeSourceController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PreValueEditors.MacroListController\", MacroListController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.AdvancedSeoPreviewController\", AdvancedSeoPreviewController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.DropdownController\", DropdownController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.MultiLinkPickerController\", MultiLinkPickerController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.RobotsController\", RobotsController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.TextBoxKeywordController\", TextBoxKeywordController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.TextWithModeCountController\", TextWithModeCountController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.ToggleBoxAndSliderController\", ToggleBoxAndSliderController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.ToggleBoxController\", ToggleBoxController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.ThemePickerController\", ThemePickerController);\r\nangular.module(\"umbraco\").controller(\"BlueLeet.PropertyEditors.KeyValuePairEditorController\", KeyValuePairEditorController);\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/BlueLeet.UComponents.ts","module.exports = angular;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 1\n// module chunks = 0","/// <reference path=\"../_references.d.ts\"/>\r\n\r\n/**\r\n* @ngdoc helper\r\n* @name BlueLeet.DatatypeResource\r\n* @function\r\n*\r\n* @description\r\n* Defines a common helper for blueleet editors.\r\n*/\r\nexport class DatatypeResource {\r\n    $http: any;\r\n\r\n    $inject = [\"$http\"];\r\n    constructor($http) {\r\n        this.$http = $http;\r\n    }\r\n\r\n    getByName(name) {\r\n        return this.$http.get(\"backoffice/BlueLeet/DataTypeService/GetByName?name=\" + name);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Resources/Datatype.Resource.ts","/// <reference path=\"../_references.d.ts\"/>\r\nexport class DictionaryResource implements IDictionaryResource {\r\n    $q: any;\r\n    $http: any;\r\n\r\n    $inject = [\"$q\", \"$http\"];\r\n    constructor($q, $http) {\r\n        this.$q = $q;\r\n        this.$http = $http;\r\n    }\r\n\r\n    getText(path) {\r\n        return this.$http.get(\"/umbraco/backoffice/UmbracoApi/Authentication/GetCurrentUser\").then(response => {\r\n            var lang = response.data.locale.split(\"-\")[0];\r\n            return this.$http.get(`/Umbraco/Api/DictionaryApi/GetText?path=${path}&language=${lang}`);\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Resources/Dictionary.Resource.ts","/// <reference path=\"../_references.d.ts\"/>\r\n/**\r\n* @ngdoc helper\r\n* @name BlueLeet.BlueLeetEditorHelper\r\n* @function\r\n*\r\n* @description\r\n* Defines a common helper for blueleet editors.\r\n*/\r\nexport class EditorHelperResource {\r\n    dictionaryResource: any;\r\n    dialogService: any;\r\n\r\n    $inject = [\"dictionaryResource\", \"dialogService\"];\r\n    constructor(dictionaryResource, dialogService) {\r\n        this.dictionaryResource = dictionaryResource;\r\n        this.dialogService = dialogService;\r\n    }\r\n\r\n    hasSetting(hasEditorSetting, sectionGrid, editorAlias) {\r\n        if (sectionGrid === 3 && editorAlias === \"rte\") {\r\n            return false;\r\n        } else {\r\n            return hasEditorSetting ? true : false;\r\n        }\r\n    }\r\n\r\n    openEditorSetting(control) {\r\n        if (control.editor.config.hasSetting) {\r\n            var dictionary;\r\n            if (control.editor.config.dictionaryPath) {\r\n                this.dictionaryResource.GetText(control.editor.config.dictionaryPath)\r\n                    .then(response => {\r\n                        dictionary = response.data.language;\r\n                        if (control.editor.config.settingTemplate) {\r\n                            this.dialogService.open({\r\n                                template: control.editor.config.settingTemplate,\r\n                                callback(data) {\r\n                                    return data;\r\n                                },\r\n                                dialogData: {\r\n                                    model: control,\r\n                                    dic: dictionary\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Resources/Editor-Helper.Resource.ts","/// <reference path=\"../_references.d.ts\"/>\r\n\r\n/**\r\n* @ngdoc helper\r\n* @name BlueLeet.SlimsyResource\r\n* @function\r\n*\r\n* @description\r\n* Defines a slimsy resource for resposnive img's.\r\n*/\r\nexport class SlimsyResource {\r\n    $http: any;\r\n\r\n    $inject = [\"$http\"];\r\n    constructor($http) {\r\n        this.$http = $http;\r\n    }\r\n\r\n    getImageUrl(id: number, width: number, height: number) {\r\n        var config = {\r\n            params: { id, width, height },\r\n            headers: { \"Accept\": \"application/json\" }\r\n        };\r\n\r\n        return this.$http.get(\"backoffice/BlueLeet/SlimsyResource/GetResponsiveImageUrl\", config);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Resources/Slimsy.Resource.ts","/// <reference path=\"../_references.d.ts\"/>\r\n\r\n/**\r\n* @ngdoc helper\r\n* @name BlueLeet.ThemePickerResource\r\n* @function\r\n*\r\n* @description\r\n* Defines a theme resource for handeling themes.\r\n*/\r\nexport class ThemePickerResource {\r\n    $http: any;\r\n    angularHelper: any;\r\n\r\n    $inject = [\"$http\", \"angularHelper\"];\r\n    constructor($http, angularHelper) {\r\n        this.$http = $http;\r\n        this.angularHelper = angularHelper;\r\n    }\r\n\r\n    getThemes($scope): Promise<any> {\r\n        return new Promise((resolve) => {\r\n            this.angularHelper.safeApply($scope, () => {\r\n                var config = {\r\n                    params: {},\r\n                    headers: { \"Accept\": \"application/json\" }\r\n                };\r\n\r\n                this.$http.get(\"backoffice/BlueLeet/ThemePickerResource/GetAll\", config).then((value) => {\r\n                    resolve(value);\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Resources/ThemePicker.Resource.ts","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/promise.js\n// module id = 7\n// module chunks = 0","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/promise.js\n// module id = 8\n// module chunks = 0","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.string.iterator.js\n// module id = 10\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_string-at.js\n// module id = 11\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-integer.js\n// module id = 12\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_defined.js\n// module id = 13\n// module chunks = 0","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-define.js\n// module id = 14\n// module chunks = 0","module.exports = true;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_library.js\n// module id = 15\n// module chunks = 0","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_export.js\n// module id = 16\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_global.js\n// module id = 17\n// module chunks = 0","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = 18\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ctx.js\n// module id = 19\n// module chunks = 0","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_a-function.js\n// module id = 20\n// module chunks = 0","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_hide.js\n// module id = 21\n// module chunks = 0","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dp.js\n// module id = 22\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-object.js\n// module id = 23\n// module chunks = 0","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-object.js\n// module id = 24\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ie8-dom-define.js\n// module id = 25\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_descriptors.js\n// module id = 26\n// module chunks = 0","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_fails.js\n// module id = 27\n// module chunks = 0","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_dom-create.js\n// module id = 28\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-primitive.js\n// module id = 29\n// module chunks = 0","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_property-desc.js\n// module id = 30\n// module chunks = 0","module.exports = require('./_hide');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_redefine.js\n// module id = 31\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_has.js\n// module id = 32\n// module chunks = 0","module.exports = {};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iterators.js\n// module id = 33\n// module chunks = 0","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-create.js\n// module id = 34\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-create.js\n// module id = 35\n// module chunks = 0","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dps.js\n// module id = 36\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys.js\n// module id = 37\n// module chunks = 0","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys-internal.js\n// module id = 38\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-iobject.js\n// module id = 39\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iobject.js\n// module id = 40\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_cof.js\n// module id = 41\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-includes.js\n// module id = 42\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-length.js\n// module id = 43\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-index.js\n// module id = 44\n// module chunks = 0","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared-key.js\n// module id = 45\n// module chunks = 0","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared.js\n// module id = 46\n// module chunks = 0","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_uid.js\n// module id = 47\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-bug-keys.js\n// module id = 48\n// module chunks = 0","module.exports = require('./_global').document && document.documentElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_html.js\n// module id = 49\n// module chunks = 0","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-to-string-tag.js\n// module id = 50\n// module chunks = 0","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks.js\n// module id = 51\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gpo.js\n// module id = 52\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-object.js\n// module id = 53\n// module chunks = 0","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/web.dom.iterable.js\n// module id = 54\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.array.iterator.js\n// module id = 55\n// module chunks = 0","module.exports = function(){ /* empty */ };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_add-to-unscopables.js\n// module id = 56\n// module chunks = 0","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-step.js\n// module id = 57\n// module chunks = 0","'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.promise.js\n// module id = 58\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_classof.js\n// module id = 59\n// module chunks = 0","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-instance.js\n// module id = 60\n// module chunks = 0","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_for-of.js\n// module id = 61\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-call.js\n// module id = 62\n// module chunks = 0","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array-iter.js\n// module id = 63\n// module chunks = 0","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.get-iterator-method.js\n// module id = 64\n// module chunks = 0","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_species-constructor.js\n// module id = 65\n// module chunks = 0","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_task.js\n// module id = 66\n// module chunks = 0","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_invoke.js\n// module id = 67\n// module chunks = 0","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_microtask.js\n// module id = 68\n// module chunks = 0","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_redefine-all.js\n// module id = 69\n// module chunks = 0","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-species.js\n// module id = 70\n// module chunks = 0","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-detect.js\n// module id = 71\n// module chunks = 0","/// <reference path=\"../_references.d.ts\"/>\r\n/*! BlueLeet\r\n * http://blueleet.com/\r\n * Copyright (c) 2016 BlueLeet; \r\n * Licensed \r\n */\r\n\r\n/**\r\n* @ngdoc service\r\n* @name BlueLeet.DictionaryResource\r\n* @description\r\n* This Resource performs lookups to a variety of translation methods.\r\n*/\r\nexport class TextPixelService\r\n{\r\n    constructor() {\r\n        $(document).ready(() => {\r\n            $.fn.textWidth = function (text, font) {\r\n                if (!$.fn.textWidth.fakeEl) $.fn.textWidth.fakeEl = $(\"<span>\").hide().appendTo(document.body);\r\n                $.fn.textWidth.fakeEl.text(text || this.val() || this.text()).css(\"font\", font || this.css(\"font\"));\r\n                return $.fn.textWidth.fakeEl.width();\r\n            };\r\n        });\r\n    }\r\n\r\n    getWidth(text, font = \"18px arial\") {\r\n        return $.fn.textWidth(text, font);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Services/Text-Pixel.Service.ts","/// <reference path=\"../_references.d.ts\"/>\r\nimport * as _ from \"underscore\";\r\nimport * as Abstraction from \"../Abstraction/IShareSeoDataService\";\r\n\r\n/**\r\n* @ngdoc service\r\n* @name BlueLeet.ShareSeoDataService\r\n* @function\r\n*\r\n* @description\r\n* This Service performs handles a variety of tasks related to SEO informations.\r\n*/\r\nexport class ShareSeoDataService implements Abstraction.IShareSeoDataService {\r\n    $rootScope: any;\r\n    title = \"\";\r\n    titleMaxCount: number = null;\r\n    description = \"\";\r\n    descriptionMaxCount: number = null;\r\n    keywords = [];\r\n    specialChars = [\".\", \",\", \":\", \";\"];\r\n    titleSplit = [];\r\n    descriptionSplit = [];\r\n    \r\n    constructor($rootScope) {\r\n        this.$rootScope = $rootScope;\r\n    }\r\n\r\n    checkHasFoundKeyword(keyword: string): { title: boolean; desc: boolean } {\r\n        var result = { title: false, desc: false };\r\n        if (this.title) {\r\n            result.title = this.searchWord(this.titleSplit, keyword);\r\n        }\r\n        if (this.description) {\r\n            result.desc = this.searchWord(this.descriptionSplit, keyword);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    removeKeywords(index: number) {\r\n        var removedKeyword: string = this.keywords.splice(index, 1)[0];\r\n        this.broadcastKeywordRemove(removedKeyword);\r\n    };\r\n\r\n    filterSpecialChars(word: string) : string {\r\n        var filterWord = word;\r\n        var lastChar = word.substr(word.length - 1);\r\n        _.each(this.specialChars, c => {\r\n            if (lastChar === c) {\r\n                filterWord = filterWord.replace(c, \"\");\r\n                this.filterSpecialChars(filterWord);\r\n            }\r\n        });\r\n        return filterWord;\r\n    };\r\n\r\n    getTitle = () => this.title;\r\n    getTitleMaxCount = () => this.titleMaxCount;\r\n    getDescription = () => this.description;\r\n    getDescriptionMaxCount = () => this.descriptionMaxCount;\r\n    getKeywords = () => this.keywords;\r\n\r\n    setTitle(value: string, maxCount: number) {\r\n        if (value == null) {\r\n            throw new TypeError(\"value can not be null or undefined!\");\r\n        }\r\n\r\n        this.title = value;\r\n        this.titleSplit = this.getReducedArray(value);\r\n        this.titleMaxCount = maxCount;\r\n        this.broadcastTitle(value);\r\n        this.broadcastPreview();\r\n    };\r\n\r\n    setDescription(value: string, maxCount: number) {\r\n        if (value == null) {\r\n            throw new TypeError(\"value can not be null or undefined!\");\r\n        }\r\n\r\n        this.description = value;\r\n        this.descriptionSplit = this.getReducedArray(value);\r\n        this.descriptionMaxCount = maxCount;\r\n        this.broadcastDescription(value);\r\n        this.broadcastPreview();\r\n    };\r\n\r\n    setKeywords(keyword: string) {\r\n        if (keyword == null) {\r\n            throw new TypeError(\"value can not be null or undefined!\");\r\n        }\r\n\r\n        this.keywords.push(keyword);\r\n        this.broadcastKeywordAdd(keyword);\r\n    };\r\n    \r\n    onTitleUpdate($scope, callback) {\r\n        $scope.$on(\"searchDataService.onTitleUpdate\",\r\n            (context, data) => {\r\n                callback(context, data);\r\n            });\r\n    }\r\n\r\n    onDescriptionUpdate($scope, callback) {\r\n        $scope.$on(\"searchDataService.onDescriptionUpdate\",\r\n            (context, data) => {\r\n                callback(context, data);\r\n            });\r\n    }\r\n\r\n    onKeywordAdded($scope, callback) {\r\n        $scope.$on(\"searchDataService.onKeywordAdded\",\r\n            (context, data) => {\r\n                callback(context, data);\r\n            });\r\n    }\r\n\r\n    onKeywordRemoved($scope, callback) {\r\n        $scope.$on(\"searchDataService.onKeywordRemoved\",\r\n            (context, data) => {\r\n                callback(context, data);\r\n            });\r\n    }\r\n\r\n    onPreviewUpdate($scope, callback) {\r\n        $scope.$on(\"searchDataService.onPreviewUpdate\",\r\n            (context, data) => {\r\n                callback(context, data);\r\n            });\r\n    }\r\n\r\n    private searchWord(items, keyword): boolean {\r\n        var hasFound = false;\r\n        if (items.length > 0) {\r\n            items.forEach(word => {\r\n                if (word.toLowerCase() === keyword.toLowerCase()) {\r\n                    hasFound = true;\r\n                }\r\n            });\r\n        }\r\n        return hasFound;\r\n    };\r\n\r\n    private getReducedArray(text: string): string[] {\r\n        var textSplit = text.split(\" \");\r\n        textSplit = textSplit.reduce((previousValue, currentValue) => {\r\n            currentValue = this.filterSpecialChars(currentValue);\r\n            previousValue.push(currentValue);\r\n            return previousValue;\r\n        },\r\n            []);\r\n\r\n        return textSplit;\r\n    }\r\n\r\n    private broadcastTitle(newValue: string) {\r\n        this.$rootScope.$broadcast(\"shareSeoDataService.onTitleUpdate\", newValue);\r\n    }\r\n\r\n    private broadcastDescription(newValue: string) {\r\n        this.$rootScope.$broadcast(\"shareSeoDataService.onDescriptionUpdate\", newValue);\r\n    }\r\n\r\n    private broadcastKeywordAdd(newValue: string) {\r\n        this.$rootScope.$broadcast(\"shareSeoDataService.onKeywordAdded\", newValue);\r\n    }\r\n\r\n    private broadcastKeywordRemove(newValue: string) {\r\n        this.$rootScope.$broadcast(\"shareSeoDataService.onKeywordRemoved\", newValue);\r\n    }\r\n\r\n    private broadcastPreview() {\r\n        var newValue = {\r\n            title: this.title,\r\n            titleMaxCount: this.titleMaxCount,\r\n            description: this.description,\r\n            descriptionMaxCount: this.descriptionMaxCount,\r\n            keywords: this.keywords\r\n        };\r\n        this.$rootScope.$broadcast(\"shareSeoDataService.onPreviewUpdate\", newValue);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Services/Share-Seo-Data.Service.ts","module.exports = _;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 74\n// module chunks = 0","/// <reference path=\"../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport { IRangeSliderDirectiveScope } from \"./Abstraction/IRangeSliderDirectiveScope\";\r\n\r\n/**\r\n* @ngdoc directive\r\n* @name BlueLeet.RangeSliderDirective\r\n* @function\r\n*\r\n* @description\r\n* Handles the rangeslider jquery plugin.\r\n*/\r\nexport class RangeSliderDirective implements angular.IDirective {\r\n    public restrict = \"A\";\r\n    public scope: { [key: string]: string } = {\r\n        \"polyfill\": \"=\",\r\n        \"rangeClass\": \"=\",\r\n        \"disabledClass\": \"=\",\r\n        \"horizontalClass\": \"=\",\r\n        \"verticalClass\": \"=\",\r\n        \"fillClass\": \"=\",\r\n        \"handleClass\": \"=\",\r\n        \"onInit\": \"&\",\r\n        \"onSlide\": \"&\",\r\n        \"onSlideEnd\": \"&\"\r\n    };\r\n\r\n    link = (scope: IRangeSliderDirectiveScope, element: angular.IAugmentedJQuery) => {\r\n        $(element).rangeslider(scope);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Directives/rangesliderDirective.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as _ from \"underscore\";\r\ndeclare var Umbraco: any;\r\n\r\nexport function ExtendedGridRteController(tinyMceService, stylesheetResource, angularHelper, assetsService, $q, $timeout) {\r\n    return {\r\n        scope: {\r\n            uniqueId: '=',\r\n            value: '=',\r\n            onClick: '&',\r\n            onFocus: '&',\r\n            onBlur: '&',\r\n            onInit: '&',\r\n            configuration: \"=\",\r\n            onMediaPickerClick: \"=\",\r\n            onEmbedClick: \"=\",\r\n            onMacroPickerClick: \"=\",\r\n            onLinkPickerClick: \"=\"\r\n        },\r\n        template: \"<textarea ng-model=\\\"value\\\" rows=\\\"10\\\" class=\\\"mceNoEditor\\\" style=\\\"overflow:hidden\\\" id=\\\"{{uniqueId}}\\\"></textarea>\",\r\n        replace: true,\r\n        link: function (scope, element, attrs) {\r\n            var initTiny = () => {\r\n                // we always fetch the default one, and then override parts with our own\r\n                tinyMceService.configuration().then(tinyMceConfig => {\r\n                    //config value from general tinymce.config file\r\n                    var validElements = tinyMceConfig.validElements;\r\n                    var fallbackStyles = [{ title: \"Page header\", block: \"h2\" }, { title: \"Section header\", block: \"h3\" }, { title: \"Paragraph header\", block: \"h4\" }, { title: \"Normal\", block: \"p\" }, { title: \"Quote\", block: \"blockquote\" }, { title: \"Code\", block: \"code\" }];\r\n\r\n                    // These are absolutely required in order for the macros to render inline\r\n                    // we put these as extended elements because they get merged on top of the normal allowed elements by tiny mce\r\n                    var extendedValidElements = \"@[id|class|style],-div[id|dir|class|align|style],ins[datetime|cite],-ul[class|style],-li[class|style],-h1[id|dir|class|align|style],-h2[id|dir|class|align|style],-h3[id|dir|class|align|style],-h4[id|dir|class|align|style],-h5[id|dir|class|align|style],-h6[id|style|dir|class|align],span[id|class|style]\";\r\n\r\n                    var invalidElements = tinyMceConfig.inValidElements;\r\n                    var plugins = _.map(tinyMceConfig.plugins, function (plugin: any) {\r\n                        if (plugin.useOnFrontend) {\r\n                            return plugin.name;\r\n                        }\r\n                    }).join(\" \") + \" autoresize\";\r\n\r\n                    // config value on the data type\r\n                    var toolbar = [\"code\", \"styleselect\", \"bold\", \"italic\", \"alignleft\", \"aligncenter\", \"alignright\", \"bullist\", \"numlist\", \"link\", \"umbmediapicker\", \"umbembeddialog\"].join(\" | \");\r\n                    var stylesheets = [];\r\n\r\n                    var styleFormats = [];\r\n                    var awaits = [];\r\n\r\n                    //queue file loading\r\n                    if (typeof (tinymce) === \"undefined\") {\r\n                        awaits.push(assetsService.loadJs(\"lib/tinymce/tinymce.min.js\", scope));\r\n                    }\r\n\r\n                    if (scope.configuration && scope.configuration.toolbar) {\r\n                        toolbar = scope.configuration.toolbar.join(' | ');\r\n                    }\r\n\r\n                    if (scope.configuration && scope.configuration.stylesheets) {\r\n                        angular.forEach(scope.configuration.stylesheets, function (stylesheet: any, key: any) {\r\n                            stylesheets.push(Umbraco.Sys.ServerVariables.umbracoSettings.cssPath + \"/\" + stylesheet + \".css\");\r\n                            awaits.push(stylesheetResource.getRulesByName(stylesheet).then(function (rules: any) {\r\n                                angular.forEach(rules, function (rule: any) {\r\n                                    var r: any = {};\r\n                                    var split = \"\";\r\n                                    r.title = rule.name;\r\n                                    if (rule.selector[0] === \".\") {\r\n                                        r.inline = \"span\";\r\n                                        r.classes = rule.selector.substring(1);\r\n                                    } else if (rule.selector[0] === \"#\") {\r\n                                        //Even though this will render in the style drop down, it will not actually be applied\r\n                                        // to the elements, don't think TinyMCE even supports this and it doesn't really make much sense\r\n                                        // since only one element can have one id.\r\n                                        r.inline = \"span\";\r\n                                        r.attributes = { id: rule.selector.substring(1) };\r\n                                    } else if (rule.selector[0] !== \".\" && rule.selector.indexOf(\".\") > -1) {\r\n                                        split = rule.selector.split(\".\");\r\n                                        r.block = split[0];\r\n                                        r.classes = rule.selector.substring(rule.selector.indexOf(\".\") + 1).replace(\".\", \" \");\r\n                                    } else if (rule.selector[0] !== \"#\" && rule.selector.indexOf(\"#\") > -1) {\r\n                                        split = rule.selector.split(\"#\");\r\n                                        r.block = split[0];\r\n                                        r.classes = rule.selector.substring(rule.selector.indexOf(\"#\") + 1);\r\n                                    } else {\r\n                                        r.block = rule.selector;\r\n                                    }\r\n                                    styleFormats.push(r);\r\n                                });\r\n                            }));\r\n                        });\r\n                    } else {\r\n                        stylesheets.push(\"views/propertyeditors/grid/config/grid.default.rtestyles.css\");\r\n                        styleFormats = fallbackStyles;\r\n                    }\r\n\r\n                    // stores a reference to the editor\r\n                    var tinyMceEditor = null;\r\n                    $q.all(awaits).then(function () {\r\n                        var uniqueId = scope.uniqueId;\r\n\r\n                        // create a baseline Config to exten upon\r\n                        var baseLineConfigObj: any = {\r\n                            mode: \"exact\",\r\n                            skin: \"umbraco\",\r\n                            plugins: plugins,\r\n                            valid_elements: validElements,\r\n                            invalid_elements: invalidElements,\r\n                            extended_valid_elements: extendedValidElements,\r\n                            menubar: false,\r\n                            statusbar: false,\r\n                            relative_urls: false,\r\n                            toolbar: toolbar,\r\n                            content_css: stylesheets,\r\n                            style_formats: styleFormats,\r\n                            autoresize_bottom_margin: 0\r\n                        };\r\n\r\n                        if (tinyMceConfig.customConfig) {\r\n                            // if there is some custom config, we need to see if the string value of each item might actually be json and if so, we need to\r\n                            // convert it to json instead of having it as a string since this is what tinymce requires\r\n                            for (var i in tinyMceConfig.customConfig) {\r\n                                var val = tinyMceConfig.customConfig[i];\r\n                                if (val) {\r\n                                    val = val.toString().trim();\r\n                                    if (val.detectIsJson()) {\r\n                                        try {\r\n                                            tinyMceConfig.customConfig[i] = JSON.parse(val);\r\n                                            // now we need to check if this custom config key is defined in our baseline, if it is we don't want to\r\n                                            // overwrite the baseline config item if it is an array, we want to concat the items in the array, otherwise\r\n                                            // if it's an object it will overwrite the baseline\r\n                                            if (angular.isArray(baseLineConfigObj[i]) && angular.isArray(tinyMceConfig.customConfig[i])) {\r\n                                                // concat it and below this concat'd array will overwrite the baseline in angular.extend\r\n                                                tinyMceConfig.customConfig[i] = baseLineConfigObj[i].concat(tinyMceConfig.customConfig[i]);\r\n                                            }\r\n                                        }\r\n                                        catch (e) {\r\n                                            // cannot parse, we'll just leave it\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            angular.extend(baseLineConfigObj, tinyMceConfig.customConfig);\r\n                        }\r\n\r\n                        // set all the things that user configs should not be able to override\r\n                        baseLineConfigObj.elements = uniqueId;\r\n                        baseLineConfigObj.setup = function (editor) {\r\n                            // set the reference\r\n                            tinyMceEditor = editor;\r\n\r\n                            // enable browser based spell checking\r\n                            editor.on('init', function (e) {\r\n                                editor.getBody().setAttribute('spellcheck', true);\r\n\r\n                                // force overflow to hidden to prevent no needed scroll\r\n                                editor.getBody().style.overflow = \"hidden\";\r\n\r\n                                if (scope.onInit) {\r\n                                    scope.onInit({ editor: editor });\r\n                                }\r\n\r\n                                $timeout(function () {\r\n                                    if (scope.value === null) {\r\n                                        editor.focus();\r\n                                    }\r\n                                }, 400);\r\n                            });\r\n\r\n                            // pin toolbar to top of screen if we have focus and it scrolls off the screen\r\n                            var pinToolbar = function () {\r\n                                var _toolbar = $(editor.editorContainer).find(\".mce-toolbar\");\r\n                                var toolbarHeight = _toolbar.height();\r\n\r\n                                var _tinyMce = $(editor.editorContainer);\r\n                                var tinyMceRect = _tinyMce[0].getBoundingClientRect();\r\n                                var tinyMceTop = tinyMceRect.top;\r\n                                var tinyMceBottom = tinyMceRect.bottom;\r\n                                var tinyMceWidth = tinyMceRect.width;\r\n\r\n                                var _tinyMceEditArea = _tinyMce.find(\".mce-edit-area\");\r\n\r\n                                // set padding in top of mce so the content does not \"jump\" up\r\n                                _tinyMceEditArea.css(\"padding-top\", toolbarHeight);\r\n\r\n                                if (tinyMceTop < 160 && ((160 + toolbarHeight) < tinyMceBottom)) {\r\n                                    _toolbar\r\n                                        .css(\"visibility\", \"visible\")\r\n                                        .css(\"position\", \"fixed\")\r\n                                        .css(\"top\", \"160px\")\r\n                                        .css(\"margin-top\", \"0\")\r\n                                        .css(\"width\", tinyMceWidth);\r\n                                } else {\r\n                                    _toolbar\r\n                                        .css(\"visibility\", \"visible\")\r\n                                        .css(\"position\", \"absolute\")\r\n                                        .css(\"top\", \"auto\")\r\n                                        .css(\"margin-top\", \"0\")\r\n                                        .css(\"width\", tinyMceWidth);\r\n                                }\r\n                            };\r\n\r\n                            // unpin toolbar to top of screen\r\n                            var unpinToolbar = function () {\r\n                                var _toolbar = $(editor.editorContainer).find(\".mce-toolbar\");\r\n                                var _tinyMce = $(editor.editorContainer);\r\n                                var _tinyMceEditArea = _tinyMce.find(\".mce-edit-area\");\r\n\r\n                                // reset padding in top of mce so the content does not \"jump\" up\r\n                                _tinyMceEditArea.css(\"padding-top\", \"0\");\r\n\r\n                                _toolbar.css(\"position\", \"static\");\r\n                            };\r\n\r\n                            // when we leave the editor (maybe)\r\n                            editor.on('blur', function (e) {\r\n                                editor.save();\r\n                                angularHelper.safeApply(scope, function () {\r\n                                    scope.value = editor.getContent();\r\n\r\n                                    var _toolbar = $(editor.editorContainer)\r\n                                        .find(\".mce-toolbar\");\r\n\r\n                                    if (scope.onBlur) {\r\n                                        scope.onBlur();\r\n                                    }\r\n\r\n                                    unpinToolbar();\r\n                                    $('.umb-panel-body').off('scroll', pinToolbar);\r\n                                });\r\n                            });\r\n\r\n                            // Focus on editor\r\n                            editor.on('focus', function (e) {\r\n                                angularHelper.safeApply(scope, function () {\r\n                                    if (scope.onFocus) {\r\n                                        scope.onFocus();\r\n                                    }\r\n\r\n                                    pinToolbar();\r\n                                    $('.umb-panel-body').on('scroll', pinToolbar);\r\n                                });\r\n                            });\r\n\r\n                            // Click on editor\r\n                            editor.on('click', function (e) {\r\n                                angularHelper.safeApply(scope, function () {\r\n                                    if (scope.onClick) {\r\n                                        scope.onClick();\r\n                                    }\r\n\r\n                                    pinToolbar();\r\n                                    $('.umb-panel-body').on('scroll', pinToolbar);\r\n                                });\r\n                            });\r\n\r\n                            // when buttons modify content\r\n                            editor.on('ExecCommand', function (e) {\r\n                                editor.save();\r\n                                angularHelper.safeApply(scope, function () {\r\n                                    scope.value = editor.getContent();\r\n                                });\r\n                            });\r\n\r\n                            // Update model on keypress\r\n                            editor.on('KeyUp', function (e) {\r\n                                editor.save();\r\n                                angularHelper.safeApply(scope, function () {\r\n                                    scope.value = editor.getContent();\r\n                                });\r\n                            });\r\n\r\n                            // Update model on change, i.e. copy/pasted text, plugins altering content\r\n                            editor.on('SetContent', function (e) {\r\n                                if (!e.initial) {\r\n                                    editor.save();\r\n                                    angularHelper.safeApply(scope, function () {\r\n                                        scope.value = editor.getContent();\r\n                                    });\r\n                                }\r\n                            });\r\n\r\n                            editor.on('ObjectResized', function (e) {\r\n                                var qs = \"?width=\" + e.width + \"&height=\" + e.height;\r\n                                var srcAttr = $(e.target).attr(\"src\");\r\n                                var path = srcAttr.split(\"?\")[0];\r\n                                $(e.target).attr(\"data-mce-src\", path + qs);\r\n                            });\r\n\r\n                            // Create the insert link plugin\r\n                            tinyMceService.createLinkPicker(editor, scope, function (currentTarget, anchorElement) {\r\n                                if (scope.onLinkPickerClick) {\r\n                                    scope.onLinkPickerClick(editor, currentTarget, anchorElement);\r\n                                }\r\n                            });\r\n\r\n                            // Create the insert media plugin\r\n                            tinyMceService.createMediaPicker(editor, scope, function (currentTarget, userData) {\r\n                                if (scope.onMediaPickerClick) {\r\n                                    scope.onMediaPickerClick(editor, currentTarget, userData);\r\n                                }\r\n                            });\r\n\r\n                            // Create the embedded plugin\r\n                            tinyMceService.createInsertEmbeddedMedia(editor, scope, function () {\r\n                                if (scope.onEmbedClick) {\r\n                                    scope.onEmbedClick(editor);\r\n                                }\r\n                            });\r\n\r\n                            // Create the insert macro plugin\r\n                            tinyMceService.createInsertMacro(editor, scope, function (dialogData) {\r\n                                if (scope.onMacroPickerClick) {\r\n                                    scope.onMacroPickerClick(editor, dialogData);\r\n                                }\r\n                            });\r\n                        };\r\n\r\n                        /** Loads in the editor */\r\n                        function loadTinyMce() {\r\n                            // we need to add a timeout here, to force a redraw so TinyMCE can find\r\n                            // the elements needed\r\n                            $timeout(function () {\r\n                                tinymce.DOM.events.domLoaded = true;\r\n                                tinymce.init(baseLineConfigObj);\r\n                            }, 150, false);\r\n                        }\r\n\r\n                        loadTinyMce();\r\n\r\n                        //here we declare a special method which will be called whenever the value has changed from the server\r\n                        //this is instead of doing a watch on the model.value = faster\r\n                        //scope.model.onValueChanged = function (newVal, oldVal) {\r\n                        //    //update the display val again if it has changed from the server;\r\n                        //    tinyMceEditor.setContent(newVal, { format: 'raw' });\r\n                        //    //we need to manually fire this event since it is only ever fired based on loading from the DOM, this\r\n                        //    // is required for our plugins listening to this event to execute\r\n                        //    tinyMceEditor.fire('LoadContent', null);\r\n                        //};\r\n\r\n                        //listen for formSubmitting event (the result is callback used to remove the event subscription)\r\n                        var unsubscribe = scope.$on(\"formSubmitting\", function () {\r\n                            //TODO: Here we should parse out the macro rendered content so we can save on a lot of bytes in data xfer\r\n                            // we do parse it out on the server side but would be nice to do that on the client side before as well.\r\n                            scope.value = tinyMceEditor.getContent();\r\n                        });\r\n\r\n                        //when the element is disposed we need to unsubscribe!\r\n                        // NOTE: this is very important otherwise if this is part of a modal, the listener still exists because the dom\r\n                        // element might still be there even after the modal has been hidden.\r\n                        scope.$on('$destroy', function () {\r\n                            unsubscribe();\r\n                        });\r\n                    });\r\n                });\r\n            };\r\n            \r\n            initTiny();\r\n        }\r\n    };\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Directives/GridRteController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n\r\nexport function Capitalize() {\r\n    return function (input) {\r\n        return input.substring(0, 1).toUpperCase() + input.substring(1);\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Pipes/capitalizePipe.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/// <reference path=\"./../Abstraction/ControllerBase.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as umbraco from \"umbraco\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.DashboardController\r\n* @function\r\n*\r\n* @description\r\n* Handles the BlueLeet dashbord.\r\n*/\r\nexport class DashboardController extends ControllerBase {\r\n    protected $scope: any;\r\n    protected $routeParams: any;\r\n    protected $q: angular.IQService;\r\n    protected dialogService: umbraco.services.IDialogService;\r\n    protected localizationService: any;\r\n    protected dictionary: any;\r\n\r\n    static $inject = [\"$scope\", \"$routeParams\", \"$q\", \"angularHelper\", \"dialogService\", \"localizationService\"];\r\n    constructor($scope, $routeParams: any, $q: angular.IQService, angularHelper: umbraco.services.IAngularHelper, dialogService: umbraco.services.IDialogService, localizationService: any) {\r\n        const beforeInitialize = () => {\r\n            this.dialogService = dialogService;\r\n            this.localizationService = localizationService;\r\n            this.dictionary = {};\r\n        };\r\n\r\n        super($scope, $q, angularHelper, undefined, beforeInitialize);\r\n    }\r\n\r\n    load(): angular.IPromise<any> {\r\n        // load localizations\r\n        return this.$q.all([\r\n            this.localizationService.localize(\"blueleetDashboard_contactSupportEmail\")\r\n            .then(value => {\r\n                this.dictionary.contactSupportEmail = value;\r\n            }),\r\n            this.localizationService.localize(\"blueleetDashboard_contactEmail\")\r\n            .then(value => {\r\n                this.dictionary.contactEmail = value;\r\n            })\r\n        ]);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Extendings/dashboardController.ts","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/create.js\n// module id = 79\n// module chunks = 0","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/create.js\n// module id = 80\n// module chunks = 0","var $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.create.js\n// module id = 81\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/set-prototype-of.js\n// module id = 82\n// module chunks = 0","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/set-prototype-of.js\n// module id = 83\n// module chunks = 0","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.set-prototype-of.js\n// module id = 84\n// module chunks = 0","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-proto.js\n// module id = 85\n// module chunks = 0","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopd.js\n// module id = 86\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-pie.js\n// module id = 87\n// module chunks = 0","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport { IViewModel } from \"./IViewModel\";\r\nimport { IViewUpdate } from \"./IViewUpdate\";\r\n\r\nexport abstract class ControllerBase implements IViewModel {\r\n    loading: boolean;\r\n    isValid: boolean;\r\n    isDirty: boolean;\r\n    protected $scope: any;\r\n    protected $q: angular.IQService;\r\n    protected angularHelper;\r\n    protected updateBehavior: IViewUpdate<IViewModel>;\r\n    private updateBehaviorFactory: () => IViewUpdate<IViewModel>;\r\n\r\n    constructor($scope: any,\r\n        $q: angular.IQService,\r\n        angularHelper,\r\n        updateBehaviorFactory?: () => IViewUpdate<IViewModel>,\r\n        beforeInitialize?: () => void,\r\n        formSubmitting?: () => void,\r\n        onDestroy?: () => void,\r\n        onContentLoaded?: () => void) {\r\n        this.$scope = $scope;\r\n        this.$q = $q;\r\n        this.angularHelper = angularHelper;\r\n        this.updateBehaviorFactory = updateBehaviorFactory;\r\n        this.isValid = true;\r\n        this.updateBehavior = null;\r\n        this.loading = true;\r\n        \r\n        if (beforeInitialize != null) {\r\n            // Run any code before initialize\r\n            beforeInitialize();\r\n        }\r\n\r\n        if (updateBehaviorFactory != null) {\r\n            this.updateBehavior = this.updateBehaviorFactory();\r\n        }\r\n\r\n        this.initialize();\r\n        this.listenForDirty();\r\n        \r\n        // trigger new api\r\n        this.loadPromise().then(() => {\r\n            this.$scope.$apply(() => {\r\n                this.load() // <= obsolete\r\n                    .then(() => {\r\n                        // loading is complete\r\n                        this.loading = false;\r\n                        if (this.updateBehavior != null) {\r\n                            this.update();\r\n                        }\r\n                    });\r\n            });\r\n        });\r\n        \r\n        // Subscribe to events if they are set.\r\n        if (onDestroy != null) {\r\n            $scope.$on(\"$destroy\", onDestroy);\r\n        }\r\n\r\n        if (onContentLoaded != null) {\r\n            $scope.$watch(\"$viewContentLoaded\", onContentLoaded);\r\n        }\r\n\r\n        if (formSubmitting != null) {\r\n            const formSubmittingUnsubscribe = this.$scope.$on(\"formSubmitting\", formSubmitting);\r\n\r\n            $scope.$on('$destroy', () => {\r\n                formSubmittingUnsubscribe();\r\n            });\r\n        }\r\n    }\r\n\r\n    initialize(): void {}\r\n\r\n    listenForDirty(): void {\r\n        // Subscribe to events\r\n        this.$scope.$watch(\"model.value\", (newValue, oldValue) => {\r\n            if (newValue !== oldValue) {\r\n                this.setDirty();\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    setDirty(): void {\r\n        if (!this.isDirty) {\r\n            this.isDirty = true;\r\n            var currentForm = this.angularHelper.getCurrentForm(this.$scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n    \r\n    update(newValue?: any, updateExisting?: boolean): void {\r\n        if (this.updateBehavior == null) {\r\n            throw new ReferenceError(\"No update behavior is set!\");\r\n        }\r\n        \r\n        this.isValid = true;\r\n        this.updateBehavior.update(this, newValue, updateExisting);\r\n    }\r\n\r\n    loadPromise(): Promise<any> {\r\n        return Promise.resolve(null);\r\n    }\r\n    \r\n    load(): angular.IPromise<any> {\r\n        return this.$q.when(null);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Abstraction/ControllerBase.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.GoogleMapsController\r\n* @function\r\n*\r\n* @description\r\n* Handles the Google maps property editor.\r\n*/\r\nexport function GoogleMapsController($scope, $timeout, $rootScope, $element, dialogService, angularHelper) {\r\n    $scope.isDirty = false;\r\n    $scope.overlay = null;\r\n\r\n    if (!$scope.control.value) {\r\n        $scope.control.value = \"\";\r\n    }\r\n\r\n    $scope.setDirty = () => {\r\n        if (!$scope.isDirty) {\r\n            $scope.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    $scope.openSetting = (): void => {\r\n        $scope.overlay = {\r\n            view: $scope.control.editor.config.settingTemplate,\r\n            title: \"Google Map\",\r\n            show: true,\r\n            mapsValue: $scope.control.value,\r\n            submit(model) {\r\n                $scope.control.value = model.mapsValue;\r\n                $scope.overlay.show = false;\r\n                $scope.overlay = null;\r\n            },\r\n            close(oldModel) {\r\n                $scope.overlay.show = false;\r\n                $scope.overlay = null;\r\n            }\r\n        };\r\n    }\r\n\r\n    $scope.$watch(\"control.value\", (newValue, oldValue) => {\r\n        $timeout(() => {\r\n            $($element).find(\".bl-googleMaps-map\").html($scope.control.value);\r\n        }, 500);\r\n        if (newValue !== oldValue) {\r\n            $scope.setDirty();\r\n        }\r\n    }, true);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/googleMapsController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.GoogleMapsSettingController\r\n* @function\r\n*\r\n* @description\r\n* Handles the Google maps property editor settings.\r\n*/\r\nexport function GoogleMapsSettingController($scope) {\r\n    //$scope.model = $scope.dialogData.model;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/googleMapsSettingController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.GoToTopController\r\n* @function\r\n*\r\n* @description\r\n* Handles the go to top property editor.\r\n*/\r\nexport function GoToTopController($scope) {}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/goToTopController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.HeadlineController\r\n* @function\r\n*\r\n* @description\r\n* Handles the headline property editor.\r\n*/\r\nexport function HeadlineController($scope, $timeout, $element, angularHelper) {\r\n    $scope.isDirty = false;\r\n\r\n    $scope.$watch(\"control.value\", (newValue, oldValue) => {\r\n        if (newValue !== oldValue) {\r\n            $scope.setDirty();\r\n        }\r\n    }, true);\r\n\r\n    $scope.setDirty = () => {\r\n        if (!$scope.isDirty) {\r\n            $scope.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/headlineController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.HeadlineLeadController\r\n* @function\r\n*\r\n* @description\r\n* Handles the headline with lead property editor.\r\n*/\r\nexport function HeadlineNLeadController($scope, $timeout, $element, angularHelper) {\r\n    $scope.isDirty = false;\r\n\r\n    $scope.$watch(\"control.value\", (newValue, oldValue) => {\r\n        if (newValue !== oldValue) {\r\n            $scope.setDirty();\r\n        }\r\n    }, true);\r\n\r\n    $scope.setDirty = () => {\r\n        if (!$scope.isDirty) {\r\n            $scope.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    if (!$scope.control.value) {\r\n        $scope.control.value = {\r\n            headline: \"\",\r\n            lead: \"\"\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/headlineNLeadController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as _ from \"underscore\";\r\nimport { MultiLinkPickerPreValues } from \"../PropertyEditors/multiLinkPickerController\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { Link } from \"../Components/Link\";\r\nimport { TreeSourceModel } from \"../Components/TreeSourceModel\";\r\nimport { TreeSourceType } from \"../Components/TreeSourceType\";\r\n\r\nexport interface IRteConfiguration {\r\n    toolbar: string[];\r\n    stylesheets: string[];\r\n    dimensions: { height: number };\r\n    maxImageSize: number;\r\n}\r\n\r\nexport class CardImageMetaInfo {\r\n    public focalPoint: {\r\n        left: number;\r\n        top: number;\r\n    };\r\n}\r\n\r\nexport class CardImage {\r\n    // ReSharper disable once InconsistentNaming\r\n    private _id: number;\r\n    private isResolveld: boolean;\r\n\r\n    public url: string = \"\";\r\n    public name: string = \"\";\r\n    public icon: string = \"\";\r\n    public altText: string = \"\";\r\n    public title: string = \"\";\r\n\r\n    constructor(id: number = -1, altText: string = \"\", title: string = \"\") {\r\n        this.id = id;\r\n        this.altText = altText;\r\n        this.title = title;\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    set id(value: number) {\r\n        this._id = _.isString(value) ? parseInt(<any>value) : value;\r\n        this.isResolveld = false;\r\n    }\r\n\r\n    updateLazyInfo(): Promise<CardImage> {\r\n        const $injector = angular.element(\"body\").injector();\r\n        const mediaResource = $injector.get<any>(\"mediaResource\");\r\n        const mediaHelper = $injector.get<any>(\"mediaHelper\");\r\n\r\n        return new Promise((resolve) => {\r\n            if (this.isResolveld) {\r\n                resolve(this);\r\n                return this;\r\n            }\r\n\r\n            this.isResolveld = true;\r\n\r\n            if (this._id === -1) {\r\n                resolve(null);\r\n                return this;\r\n            }\r\n\r\n            return mediaResource.getById(this._id)\r\n                .then(media => {\r\n                    this.name = media.name;\r\n                    this.icon = media.icon;\r\n                    this.url = mediaHelper.resolveFile(media);\r\n\r\n                    resolve(this);\r\n                    return this;\r\n                });\r\n        });\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    public toJSON() {\r\n        return {\r\n            id: this.id,\r\n            altText: this.altText,\r\n            title: this.title\r\n        };\r\n    }\r\n\r\n    static parse(value: any): CardImage {\r\n        let cardImage = new CardImage();\r\n        if (_.isUndefined(value) || _.isNull(value)) {\r\n            return cardImage;\r\n        }\r\n\r\n        if (_.isString(value)) {\r\n            const jObject = JSON.parse(value);\r\n            cardImage.id = jObject.id;\r\n            cardImage.altText = jObject.altText;\r\n            cardImage.title = jObject.title;\r\n        } else {\r\n            cardImage.id = value.id;\r\n            cardImage.altText = value.altText;\r\n            cardImage.title = value.title;\r\n        }\r\n\r\n        return cardImage;\r\n    }\r\n}\r\n\r\nexport class CardValue {\r\n    image: CardImage;\r\n    link: Link;\r\n    title: string;\r\n    content: string;\r\n\r\n    constructor() {\r\n        this.image = null;\r\n        this.link = null;\r\n        this.title = null;\r\n        this.content = null;\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    static fromJSON(value: string): CardValue {\r\n        const cardValue = new CardValue();\r\n        if (_.isString(value)) {\r\n            const jObject = JSON.parse(value);\r\n            cardValue.image = CardImage.parse(jObject.image);\r\n            cardValue.link = Link.parse(jObject.link);\r\n            cardValue.title = jObject.title;\r\n            cardValue.content = jObject.content;\r\n        }\r\n\r\n        return cardValue;\r\n    }\r\n}\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.CardController\r\n* @function\r\n*\r\n* @description\r\n* Handles the card property editor.\r\n*/\r\nexport class CardController extends ControllerBase {\r\n    $timeout: any;\r\n    $element: any;\r\n    dialogService: any;\r\n    dictionaryResource: any;\r\n    rteConfig: IRteConfiguration;\r\n    rteConfigContent: IRteConfiguration;\r\n    renderModel: CardValue;\r\n    oldModel: CardValue;\r\n    overlay: any;\r\n    slimsyResource: any;\r\n    entityResource: any;\r\n    eventsService: any;\r\n    textPixelService: any;\r\n    mediaHelper: any;\r\n    isEmptyModel: boolean;\r\n    isInit: boolean;\r\n\r\n    static $inject = [\"$scope\", \"$q\", \"$timeout\", \"$element\", \"dialogService\", \"dictionaryResource\", \"angularHelper\", \"slimsyResource\", \"entityResource\", \"eventsService\", \"mediaHelper\", \"textPixelService\"];\r\n    constructor($scope, $q, $timeout, $element, dialogService, dictionaryResource, angularHelper, slimsyResource, entityResource, eventsService, mediaHelper, textPixelService) {\r\n        const beforeInitialize = () => {\r\n            this.$timeout = $timeout;\r\n            this.$element = $element;\r\n            this.dialogService = dialogService;\r\n            this.dictionaryResource = dictionaryResource;\r\n            this.slimsyResource = slimsyResource;\r\n            this.entityResource = entityResource;\r\n            this.eventsService = eventsService;\r\n            this.textPixelService = textPixelService;\r\n            this.mediaHelper = mediaHelper;\r\n            this.isEmptyModel = false;\r\n            this.isInit = true;\r\n\r\n            this.rteConfig = {\r\n                toolbar: [\"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\"],\r\n                stylesheets: [\"RTE_Header\"],\r\n                dimensions: { height: 0 },\r\n                maxImageSize: 0\r\n            };\r\n\r\n            this.rteConfigContent = {\r\n                toolbar: [\r\n                    \"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\", \"bold\", \"italic\", \"underline\",\r\n                    \"strikethrough\", \"alignleft\", \"aligncenter\", \"alignright\", \"alignjustify\", \"bullist\", \"numlist\",\r\n                    \"outdent\", \"indent\", \"link\", \"unlink\", \"hr\", \"subscript\", \"superscript\", \"charmap\"\r\n                ],\r\n                stylesheets: [\"RTE_2ColsContent\"],\r\n                dimensions: { height: 200 },\r\n                maxImageSize: 500\r\n            };\r\n\r\n            if ((_.isUndefined($scope.control.value) || _.isNull($scope.control.value)) === false && _.isString($scope.control.value)) {\r\n                this.renderModel = CardValue.fromJSON($scope.control.value);\r\n                this.oldModel = CardValue.fromJSON($scope.control.value);\r\n            } else {\r\n                this.isEmptyModel = true;\r\n                this.renderModel = new CardValue();\r\n                this.oldModel = new CardValue();\r\n            }\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            if (this.isDirty) {\r\n                if (_.isEqual(this.renderModel, new CardValue())) {\r\n                    this.$scope.control.value = null;\r\n                } else {\r\n                    this.$scope.control.value = JSON.stringify(this.renderModel);\r\n                }\r\n            }\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    loadPromise(): Promise<any> {\r\n        if (this.renderModel.image) {\r\n            return this.renderModel.image.updateLazyInfo();\r\n        }\r\n\r\n        return super.loadPromise();\r\n    }\r\n\r\n    onTitleInit(editor) {\r\n        this.setLimitedRTE();\r\n        editor.hide();\r\n        editor.show();\r\n    }\r\n\r\n    onContentInit(editor) {\r\n        editor.hide();\r\n        editor.show();\r\n    }\r\n\r\n    onTitleBlur() {\r\n        if (_.isNull(this.renderModel.title) || _.isEqual(this.renderModel.title, this.oldModel.title)) {\r\n            return;\r\n        }\r\n\r\n        this.setDirty();\r\n    }\r\n    \r\n    onContentBlur() {\r\n        if (_.isNull(this.renderModel.content) || _.isEqual(this.renderModel.content, this.oldModel.content)) {\r\n            return;\r\n        }\r\n\r\n        this.setDirty();\r\n    }\r\n\r\n    editLink() {\r\n        const self = this;\r\n        let config = new MultiLinkPickerPreValues();\r\n        config.maxNumberOfItems = 1;\r\n        config.externalPicker = true;\r\n        config.mergeRoots = true;\r\n        config.multiPicker = false;\r\n        config.treeSources = [];\r\n        config.treeSources.push(TreeSourceModel.copyFrom({ type: TreeSourceType.Content, sourceName: \"Internal Content\" }));\r\n        config.treeSources.push(TreeSourceModel.copyFrom({ type: TreeSourceType.Media, sourceName: \"Internal Media\" }));\r\n\r\n        this.overlay = {\r\n            view: \"/App_Plugins/BlueLeet.UComponents/propertyEditors/multiLinkPicker/multiLinkPicker.html\",\r\n            show: true,\r\n            hideHeader: true,\r\n            submit(model: { value: Link[] }) {\r\n                let link = model.value[0];\r\n                self.renderModel.link = link;\r\n                self.setDirty();\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            },\r\n            close() {\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            },\r\n            dialogModel: {\r\n                value: this.renderModel.link === null ? \"\" : [Link.parse(this.renderModel.link)],\r\n                config: config\r\n            }\r\n        };\r\n    }\r\n\r\n    selectImage() {\r\n        const self = this;\r\n        self.overlay = {\r\n            view: \"/App_Plugins/BlueLeet.UComponents/gridEditors/card/settings.html\",\r\n            show: true,\r\n            hideHeader: true,\r\n            selectedImage: self.renderModel.image,\r\n            submit(model: { value: CardImage }) {\r\n                self.renderModel.image = model.value;\r\n                self.setDirty();\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            },\r\n            close() {\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            }\r\n        };\r\n\r\n        self.overlay.show = true;\r\n    }\r\n\r\n    private setLimitedRTE() {\r\n        this.$scope.diablelsTools = [\r\n            \"Align left\", \"Align right\", \"Justify\", \"Bold\", \"Italic\", \"Underline\", \"Strikethrough\",\r\n            \"Align center\", \"Bullet list\", \"Decrease indent\", \"Increase indent\", \"Insert/edit link\",\r\n            \"Remove link\",\r\n            \"Insert horizontal rule\", \"Subscript\", \"Superscript\", \"Special character\", \"Numbered list\"\r\n        ];\r\n\r\n        var buttons = $(this.$element).find(\".bl-column-title .mce-btn-group button\");\r\n        if (buttons.length > 0) {\r\n            this.$scope.setRteDropdown = true;\r\n            this.removeRTEControl(buttons);\r\n        }\r\n    }\r\n\r\n    private removeRTEControl(buttons) {\r\n        $(buttons)\r\n            .each((index, element) => {\r\n                if ($(element).html().indexOf(\"italic\") > -1) {\r\n                    $(element).remove();\r\n                }\r\n                if ($(element).html().indexOf(\"mce-caret\") > -1) {\r\n                    $(element)\r\n                        .click(() => {\r\n                            this.$timeout(() => {\r\n                                this.removeStyles();\r\n                            }, 1);\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    private removeStyles() {\r\n        if ($(\".mce-menu\").length && this.$scope.setRteDropdown) {\r\n            this.$scope.setRteDropdown = false;\r\n            $($(\".mce-menu\")[$(\".mce-menu\").length - 1])\r\n                .find(\".mce-stack-layout-item\")\r\n                .each((index, element) => {\r\n                    if ($(element).html().indexOf(\"Color Header\") === -1) {\r\n                        $(element).hide();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    private showSelection() {\r\n        var textComponent = (<any>document).getElementById(this.$scope.control.$uniqueId);\r\n        var selectedText = \"\";\r\n        var startPos = 0;\r\n        var textLength = 0;\r\n\r\n        // IE version\r\n        if ((<any>document).selection != undefined) {\r\n            textComponent.focus();\r\n            var sel = (<any>document).selection.createRange();\r\n            selectedText = sel.text;\r\n            startPos = sel.startOffset;\r\n            textLength = selectedText.length;\r\n        }\r\n\r\n        // Mozilla version\r\n        else if (textComponent.selectionStart != undefined) {\r\n            startPos = textComponent.selectionStart;\r\n            var endPos = textComponent.selectionEnd;\r\n            selectedText = textComponent.value.substring(startPos, endPos);\r\n            textLength = selectedText.length;\r\n        }\r\n\r\n        var hightlightFormat = \"<span class='colorHeader'>#text#</span>\";\r\n        hightlightFormat = hightlightFormat.replace(\"#text#\", selectedText);\r\n        this.rep(this.renderModel.title, startPos, hightlightFormat, textLength);\r\n    }\r\n\r\n    private rep(str: string, index: number, newStr: string, textLength: number) {\r\n        str = this.setCharAt(str, index, newStr, textLength);\r\n        this.renderModel.title = str;\r\n    }\r\n\r\n    private setCharAt(str: string, index: number, chr: string, textLength: number) {\r\n        if (index > str.length - 1) return str;\r\n        return str.substr(0, index) + chr + str.substr(index + textLength);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/cardController.ts","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 95\n// module chunks = 0","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 96\n// module chunks = 0","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as umbraco from \"umbraco\";\r\nimport * as _ from \"underscore\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { TreeSourceModel } from \"../Components/TreeSourceModel\";\r\nimport { Link } from \"../Components/Link\";\r\nimport { TreeSourceHelper } from \"../Components/TreeSourceHelper\";\r\nimport { TreeSourceType } from \"../Components/TreeSourceType\";\r\n\r\nexport class MultiLinkPickerPreValues {\r\n    maxNumberOfItems: number;\r\n    minNumberOfItems: number;\r\n    mergeRoots: boolean;\r\n    multiPicker: boolean;\r\n    externalPicker: boolean;\r\n    treeSources: TreeSourceModel[];\r\n\r\n    static parse(value, defaults?: MultiLinkPickerPreValues): MultiLinkPickerPreValues {\r\n        let v = defaults || new MultiLinkPickerPreValues();\r\n        v = _.extend(v, value);\r\n\r\n        let mergeRoots = JSON.stringify(v.mergeRoots);\r\n        let multiPicker = JSON.stringify(v.multiPicker);\r\n        let externalPicker = JSON.stringify(v.externalPicker);\r\n\r\n        v.maxNumberOfItems = parseInt(v.maxNumberOfItems + \"\");\r\n        v.minNumberOfItems = parseInt(v.minNumberOfItems + \"\");\r\n        v.mergeRoots = mergeRoots === \"1\" || mergeRoots === \"true\";\r\n        v.multiPicker = multiPicker === \"1\" || multiPicker === \"true\";\r\n        v.externalPicker = externalPicker === \"1\" || externalPicker === \"true\";\r\n        v.treeSources = v.treeSources;\r\n\r\n        return v;\r\n    }\r\n}\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.MultiLinkPickerController\r\n* @function\r\n*\r\n* @description\r\n* Handles the multi url picker property editor.\r\n*/\r\nexport class MultiLinkPickerController extends ControllerBase {\r\n    $routeParams: any;\r\n    multiLinkPickerForm: any;\r\n    contentIds: number[];\r\n    mediaIds: number[];\r\n    memberIds: number[];\r\n    renderModel: Link[];\r\n    contentTreeSources: number[];\r\n    mediaTreeSources: number[];\r\n    memberTreeSources: string[];\r\n    cfg: MultiLinkPickerPreValues;\r\n    sortableOptions: any;\r\n    iconHelper: any;\r\n    entityResource: any;\r\n    isDialog: boolean;\r\n    promises: Array<Promise<any>>;\r\n\r\n    static $inject = [\"$injector\", \"$scope\", \"$q\", \"$routeParams\", \"angularHelper\", \"notificationsService\", \"iconHelper\", \"entityResource\"];\r\n    constructor($injector, $scope, $q: angular.IQService, $routeParams: any, angularHelper, notificationsService: umbraco.services.INotificationsService, iconHelper: any, entityResource: any) {\r\n        const beforeInitialize = () => {\r\n            this.multiLinkPickerForm = {};\r\n            this.contentIds = [];\r\n            this.mediaIds = [];\r\n            this.memberIds = [];\r\n            this.contentTreeSources = [];\r\n            this.mediaTreeSources = [];\r\n            this.memberTreeSources = [];\r\n            this.renderModel = [];\r\n            this.cfg = { maxNumberOfItems: 0, minNumberOfItems: 0, mergeRoots: false, multiPicker: false, externalPicker: false, treeSources: [] };\r\n            this.sortableOptions = { handle: \".handle\" };\r\n            this.iconHelper = iconHelper;\r\n            this.entityResource = entityResource;\r\n            this.$routeParams = $routeParams;\r\n            this.isDialog = false;\r\n            this.promises = [];\r\n\r\n            if ($scope.model.dialogModel) {\r\n                this.isDialog = true;\r\n                $scope.model.value = $scope.model.dialogModel.value;\r\n                $scope.model.config = $scope.model.dialogModel.config;\r\n            }\r\n\r\n            if ($scope.model.config) {\r\n                this.cfg = MultiLinkPickerPreValues.parse($scope.model.config, this.cfg);\r\n            }\r\n\r\n            // map this object to its class\r\n            this.cfg.treeSources = _.map(this.cfg.treeSources, source => {\r\n                return TreeSourceModel.copyFrom(source);\r\n            });\r\n\r\n            if (this.cfg.maxNumberOfItems <= 0) {\r\n                delete this.cfg.maxNumberOfItems;\r\n            }\r\n\r\n            if (this.cfg.minNumberOfItems <= 0) {\r\n                this.cfg.minNumberOfItems = 0;\r\n            }\r\n\r\n            if (_.isArray($scope.model.value) && !_.isEmpty($scope.model.value)) {\r\n                _.forEach($scope.model.value,\r\n                    (item: Link) => {\r\n                        // convert the item to a link object.\r\n                        item = Link.parse(item);\r\n                        this.renderModel.push(item);\r\n\r\n                        if (item.id) {\r\n                            if (item.sourceType === TreeSourceType.Media) {\r\n                                this.mediaIds.push(item.id);\r\n                            } else if (item.sourceType === TreeSourceType.Content) {\r\n                                this.contentIds.push(item.id);\r\n                            } else if (item.sourceType === TreeSourceType.Member) {\r\n                                this.memberIds.push(item.id);\r\n                            }\r\n                        }\r\n                    });\r\n            }\r\n\r\n            // Map tree sources to its respective category.\r\n            _.each(this.cfg.treeSources,\r\n                (source: TreeSourceModel) => {\r\n                    this.promises.push(source.updateLazyInfo());\r\n                    switch (source.type) {\r\n                        case TreeSourceType.Content:\r\n                            this.contentTreeSources.push(source.id);\r\n                            break;\r\n                        case TreeSourceType.Media:\r\n                            this.mediaTreeSources.push(source.id);\r\n                            break;\r\n                        case TreeSourceType.Member:\r\n                            this.memberTreeSources.push(source.value);\r\n                            break;\r\n                    }\r\n                });\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            if (this.isDirty) {\r\n                if (this.renderModel.length) {\r\n                    if (this.isDialog) {\r\n                        // This is a dialog lets not stringify the value\r\n                        $scope.model.value = this.renderModel;\r\n                    } else {\r\n                        // If we dont save it as json string it will throw.\r\n                        $scope.model.value = JSON.stringify(this.renderModel);\r\n                    }\r\n                } else {\r\n                    $scope.model.value = null;\r\n                }\r\n            }\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    listenForDirty(): void {\r\n        // Do nothing as we check this elsewhere.\r\n    }\r\n\r\n    loadPromise(): Promise<any> {\r\n        return Promise.all(this.promises);\r\n    }\r\n\r\n    load(): angular.IPromise<any> {\r\n        const self = this;\r\n        let promises = [];\r\n\r\n        if (self.contentIds.length > 0) {\r\n            promises.push(self.entityResource.getByIds(self.contentIds, \"Document\").then((nodes) => {\r\n                self.setIcon(nodes);\r\n            }));\r\n        }\r\n\r\n        if (this.mediaIds.length > 0) {\r\n            promises.push(self.entityResource.getByIds(self.mediaIds, \"Media\").then((nodes) => {\r\n                self.setIcon(nodes);\r\n            }));\r\n        }\r\n\r\n        if (this.memberIds.length > 0) {\r\n            promises.push(self.entityResource.getByIds(self.memberIds, \"Member\").then((nodes) => {\r\n                self.setIcon(nodes);\r\n            }));\r\n        }\r\n\r\n        return this.$q.all(promises);\r\n    }\r\n\r\n    setIcon(nodes): void {\r\n        if (_.isArray(nodes)) {\r\n            _.each(nodes, this.setIcon, this);\r\n        } else {\r\n            var item = _.find(this.renderModel, (l: Link) => (l.id === nodes.id));\r\n            item.icon = this.iconHelper.convertFromLegacyIcon(nodes.icon);\r\n        }\r\n    };\r\n\r\n    openLinkPicker(sourceType: TreeSourceType, callbackItem?: (node: any) => void): void {\r\n        const self = this;\r\n        let entityType: string = TreeSourceHelper.getEntityType(sourceType);\r\n        let itemsCopy: any[] = jQuery.extend(true, [], self.renderModel);\r\n        let customTreeParams = `pageId=${self.$routeParams.id}&mergeRoots=${self.cfg.mergeRoots}`;\r\n        let treeAlias = \"blueleetFilteredContentTree\";\r\n        let section = \"blueleetFilteredContentTree\";\r\n\r\n        if (self.contentTreeSources.length && sourceType === TreeSourceType.Content) {\r\n            customTreeParams += `&contentIds=${self.contentTreeSources.join()}`;\r\n        } else if (self.mediaTreeSources.length && sourceType === TreeSourceType.Media) {\r\n            treeAlias = \"blueleetFilteredMediaTree\";\r\n            section = \"blueleetFilteredMediaTree\";\r\n            customTreeParams += `&mediaIds=${self.mediaTreeSources.join()}`;\r\n        } else if (self.memberTreeSources.length && sourceType === TreeSourceType.Member) {\r\n            treeAlias = \"blueleetFilteredMemberTree\";\r\n            section = \"blueleetFilteredMemberTree\";\r\n            customTreeParams += `&memberIds=${self.memberTreeSources.join()}`;\r\n        }\r\n\r\n        self.$scope.overlay = {\r\n            filterCssClass: \"not-allowed not-published\",\r\n            minNumber: self.cfg.minNumberOfItems,\r\n            maxNumber: self.cfg.maxNumberOfItems,\r\n            entityType: entityType, // This is important that it mapps to a correct entity type (Document, Media, Member) else the select will fail.\r\n            treeAlias: treeAlias,\r\n            section: section,\r\n            customTreeParams: customTreeParams,\r\n            onlyInitialized: true,\r\n            view: \"treePicker\",\r\n            multiPicker: self.cfg.multiPicker,\r\n            hideHeader: true,\r\n            show: true,\r\n            submit(model) {\r\n                if (angular.isArray(model.selection)) {\r\n                    _.each(model.selection, (e: any) => {\r\n                        if (callbackItem) {\r\n                            callbackItem(e);\r\n                        } else {\r\n                            self.addLink(sourceType, e);\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (callbackItem) {\r\n                        callbackItem(model);\r\n                    } else {\r\n                        self.addLink(sourceType, model);\r\n                    }\r\n                }\r\n\r\n                let diff = _.difference(self.renderModel, itemsCopy);\r\n                if (diff.length) {\r\n                    self.setDirty();\r\n                }\r\n\r\n                self.$scope.overlay.show = false;\r\n                self.$scope.overlay = null;\r\n            },\r\n            close(oldModel) {\r\n                self.$scope.overlay.show = false;\r\n                self.$scope.overlay = null;\r\n            }\r\n        };\r\n    };\r\n\r\n    openExternalLinkPicker(link?: Link, callbackItem?: (node: any) => void): void {\r\n        const self = this;\r\n        let target: { url: string, name: string, target: string } = null;\r\n        if (link) {\r\n            target = {\r\n                url: link.url,\r\n                name: link.name,\r\n                target: link.target\r\n            };\r\n        }\r\n\r\n        self.$scope.overlay = {\r\n            target: target,\r\n            view: \"/App_Plugins/BlueLeet.UComponents/preValueEditors/externalLink/externalLink.html\",\r\n            hideHeader: true,\r\n            show: true,\r\n            submit(model) {\r\n                if (callbackItem) {\r\n                    callbackItem(model.value);\r\n                } else {\r\n                    self.addLink(TreeSourceType.ExternalUrl, model.value);\r\n                }\r\n\r\n                if (_.isEqual(target, model.value) === false) {\r\n                    self.setDirty();\r\n                }\r\n\r\n                self.$scope.overlay.show = false;\r\n                self.$scope.overlay = null;\r\n            },\r\n            close() {\r\n                self.$scope.overlay.show = false;\r\n                self.$scope.overlay = null;\r\n            }\r\n        };\r\n    };\r\n\r\n    openContentLinkPicker() {\r\n        this.openLinkPicker(TreeSourceType.Content);\r\n    }\r\n\r\n    openMediaLinkPicker() {\r\n        this.openLinkPicker(TreeSourceType.Media);\r\n    }\r\n\r\n    openMemberLinkPicker() {\r\n        this.openLinkPicker(TreeSourceType.Member);\r\n    }\r\n\r\n    addLink(sourceType: TreeSourceType, e: any) {\r\n        var link = Link.parse(e, sourceType);\r\n        this.renderModel.push(link);\r\n    }\r\n\r\n    edit(node: Link): void {\r\n        if (node.sourceType === TreeSourceType.ExternalUrl) {\r\n            this.openExternalLinkPicker(node, (link) => {\r\n                this.replaceLink(node, link, TreeSourceType.ExternalUrl);\r\n            });\r\n        } else {\r\n            this.openLinkPicker(node.sourceType, (link) => {\r\n                this.replaceLink(node, link, node.sourceType);\r\n            });\r\n        }\r\n    };\r\n\r\n    remove(node: Link): void {\r\n        let index = this.renderModel.indexOf(node);\r\n        this.renderModel.splice(index, 1);\r\n    };\r\n\r\n    replaceLink(oldLink: Link, e: any, sourceType: TreeSourceType) {\r\n        var link = Link.parse(e, sourceType);\r\n        let index = this.renderModel.indexOf(oldLink);\r\n        this.renderModel[index] = link;\r\n    }\r\n\r\n    private getDialogType(type): string {\r\n        switch (type) {\r\n            case \"Media\":\r\n                return \"media\";\r\n            case \"Member\":\r\n                return \"member\";\r\n            default:\r\n                return \"content\";\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/multiLinkPickerController.ts","import * as angular from \"angular\";\r\nimport * as _ from \"underscore\";\r\nimport * as SourceHelper from \"./TreeSourceHelper\";\r\nimport { TreeSourceType } from \"./TreeSourceType\";\r\n\r\nexport class TreeSourceModel {\r\n    //static promises: Array<Promise<any>> = [];\r\n\r\n    public query: string;\r\n    public sourceName: string;\r\n    public name: string;\r\n    public icon: string;\r\n\r\n    private isResolveld: boolean;\r\n\r\n    constructor(type: TreeSourceType, id: number, value: any, sourceName: string, query: string) {\r\n        this._type = type;\r\n        this.query = query;\r\n        this.id = id;\r\n        this.value = value;\r\n        this.sourceName = sourceName;\r\n        this.name = \"\";\r\n        this.icon = \"\";\r\n        this.updateLazyInfo();\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    private _id: any;\r\n    public get id() { return this._id }\r\n    public set id(value: any) {\r\n        this.isResolveld = false;\r\n\r\n        if (this.type === TreeSourceType.Member || this.type === TreeSourceType.ExternalUrl) {\r\n            return;\r\n        }\r\n\r\n        if (value === undefined || value === null) {\r\n            if (this.query === undefined || this.query === \"\" || this.query === null) {\r\n                throw new Error(\"An id or query must be specified!\");\r\n            }\r\n        } else if (this.query !== undefined && this.query !== \"\" && this.query !== null) {\r\n            const $injector = angular.element(\"body\").injector();\r\n            const entityResource = $injector.get<any>(\"entityResource\");\r\n            const $routeParams = $injector.get<any>(\"$routeParams\");\r\n\r\n            var rootId = $routeParams.id;\r\n            var entityType = this.getEntityType();\r\n            entityResource.getByQuery(this.query, rootId, entityType).then(ent => {\r\n                if (ent != null) {\r\n                    this._id = ent.id;\r\n                }\r\n            });\r\n        } else {\r\n            this._id = _.isString(value) ? parseInt(value) : value;\r\n        }\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    private _value: any;\r\n    public get value() { return this._value }\r\n    public set value(value: any) {\r\n        if (this.type === TreeSourceType.Member || this.type === TreeSourceType.ExternalUrl) {\r\n            this._value = value;\r\n        }\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    private _type: TreeSourceType;\r\n    public get type() { return this._type; }\r\n    public set type(value: TreeSourceType) {\r\n        this._type = value;\r\n        this._typeText = TreeSourceType[value];\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    private _typeText: string;\r\n    public get typeText() { return this._typeText; }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    public toJSON() {\r\n        return {\r\n            id: this._id,\r\n            value: this._value || this._id,\r\n            query: this.query,\r\n            sourceName: this.sourceName,\r\n            type: this._type,\r\n            typeText: this._typeText\r\n        };\r\n    }\r\n\r\n    public getEntityType(): string {\r\n        return SourceHelper.TreeSourceHelper.getEntityType(this.type);\r\n    }\r\n\r\n    public updateLazyInfo(): Promise<TreeSourceModel> {\r\n        const $injector = angular.element(\"body\").injector();\r\n        const entityResource = $injector.get<any>(\"entityResource\");\r\n        //const $routeParams = $injector.get<any>(\"$routeParams\");\r\n\r\n        const promise = new Promise((resolve) => {\r\n            if (this.isResolveld) {\r\n                resolve(this);\r\n                return this;\r\n            }\r\n\r\n            this.isResolveld = true;\r\n\r\n            if (this.type === TreeSourceType.ExternalUrl) {\r\n                this.icon = \"icon-globe\";\r\n                resolve(this);\r\n            } else if (this.type === TreeSourceType.Member) {\r\n                this.name = this.value;\r\n                this.icon = \"icon-users\";\r\n                resolve(this);\r\n            } else if (this.type === TreeSourceType.Content || this.type === TreeSourceType.Media) {\r\n                if (this.id === -1 || this.id === null || this.id === undefined) {\r\n                    resolve(null);\r\n                    return this;\r\n                }\r\n\r\n                let ent = this.getEntityType();\r\n                let idToGet = this.id;\r\n                entityResource.getById(idToGet, ent).then(item => {\r\n                    this.name = item.name;\r\n                    this.icon = item.icon;\r\n                    resolve(this);\r\n                });\r\n            }\r\n\r\n            return this;\r\n        });\r\n\r\n        //TreeSourceModel.promises.push(promise);\r\n        return promise;\r\n    }\r\n\r\n    public static copyFrom(node): TreeSourceModel {\r\n        //var $injector = angular.element(\"body\").injector();\r\n        //var treeSource = $injector.instantiate(TreeSourceModel, { type: node.type, id: -1, value: \"\", sourceName: \"\", query: \"\" });\r\n        var treeSource = new TreeSourceModel(node.type, -1, \"\", \"\", \"\");\r\n\r\n        return jQuery.extend(true, treeSource, node);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Components/TreeSourceModel.ts","import { TreeSourceType } from \"./TreeSourceType\";\r\n\r\nexport class TreeSourceHelper {\r\n    public static parseSourceType(value: any): TreeSourceType {\r\n        if (typeof value == \"string\") {\r\n            return parseInt(value);\r\n        } else if (typeof value == \"number\") {\r\n            return value;\r\n        }\r\n\r\n        throw `Can not parse ${value} of type ${typeof value} to a TreeSourceType`;\r\n    }\r\n\r\n    public static getEntityType(sourceType: TreeSourceType): string {\r\n        var ent = \"Document\";\r\n        if (sourceType === TreeSourceType.Media) {\r\n            ent = \"Media\";\r\n        } else if (sourceType === TreeSourceType.Member) {\r\n            ent = \"Member\";\r\n        } else if (sourceType === TreeSourceType.ExternalUrl) {\r\n            ent = \"\";\r\n        }\r\n\r\n        return ent;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Components/TreeSourceHelper.ts","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/typeof.js\n// module id = 100\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol/iterator.js\n// module id = 101\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/iterator.js\n// module id = 102\n// module chunks = 0","exports.f = require('./_wks');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-ext.js\n// module id = 103\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol.js\n// module id = 104\n// module chunks = 0","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/index.js\n// module id = 105\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.symbol.js\n// module id = 106\n// module chunks = 0","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_meta.js\n// module id = 107\n// module chunks = 0","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-define.js\n// module id = 108\n// module chunks = 0","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_keyof.js\n// module id = 109\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-keys.js\n// module id = 110\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gops.js\n// module id = 111\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array.js\n// module id = 112\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn-ext.js\n// module id = 113\n// module chunks = 0","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn.js\n// module id = 114\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 115\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.observable.js\n// module id = 116\n// module chunks = 0","export enum TreeSourceType {\r\n    Content,\r\n    Media,\r\n    Member,\r\n    ExternalUrl\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Components/TreeSourceType.ts","import * as angular from \"angular\";\r\nimport * as _ from \"underscore\";\r\nimport { TreeSourceType } from \"./TreeSourceType\";\r\nimport { TreeSourceHelper } from \"./TreeSourceHelper\";\r\n\r\nexport class Link {\r\n    private _name: string;\r\n    private _url: string;\r\n    private _target: string;\r\n    private _icon: string;\r\n    private _sourceType: TreeSourceType;\r\n\r\n    private isResolveld: boolean;\r\n\r\n    constructor(id: number, name: string, url: string, target: string, icon: string, sourceType: TreeSourceType) {\r\n        this.id = id;\r\n        this._name = name;\r\n        this._url = url;\r\n        this._target = target;\r\n        this._icon = icon;\r\n        this._sourceType = sourceType;\r\n        this.updateLazyInfo();\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    private _id: any;\r\n    public get id() { return this._id }\r\n    public set id(value: any) {\r\n        this._id = _.isString(value) ? parseInt(value) : value;\r\n        this.isResolveld = false;\r\n    }\r\n\r\n    public get name(): string {\r\n        this.updateLazyInfo();\r\n        return this._name;\r\n    }\r\n\r\n    public set name(value: string) {\r\n        this._name = value;\r\n    }\r\n\r\n    public get url(): string {\r\n        this.updateLazyInfo();\r\n        return this._url;\r\n    }\r\n\r\n    public set url(value: string) {\r\n        this._url = value;\r\n    }\r\n\r\n    public get target(): string {\r\n        this.updateLazyInfo();\r\n        return this._target;\r\n    }\r\n\r\n    public set target(value: string) {\r\n        this._target = value;\r\n    }\r\n\r\n    public get icon(): string {\r\n        this.updateLazyInfo();\r\n        return this._icon;\r\n    }\r\n\r\n    public set icon(value: string) {\r\n        this._icon = value;\r\n    }\r\n\r\n    public get sourceType(): TreeSourceType {\r\n        this.updateLazyInfo();\r\n        return this._sourceType;\r\n    }\r\n\r\n    public set sourceType(value: TreeSourceType) {\r\n        this._sourceType = value;\r\n    }\r\n\r\n    // ReSharper disable once InconsistentNaming\r\n    public toJSON() {\r\n        let result: any;\r\n\r\n        if (this.sourceType === TreeSourceType.ExternalUrl) {\r\n            result = {\r\n                name: this.name,\r\n                url: this.url,\r\n                target: this.target,\r\n                icon: this.icon,\r\n                sourceType: this.sourceType\r\n            };\r\n        } else {\r\n            result = {\r\n                id: this._id,\r\n                target: this.target,\r\n                sourceType: this.sourceType\r\n            };\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static parse(o, sourceType?: TreeSourceType): Link {\r\n        let treeSourceType;\r\n\r\n        if (_.isUndefined(sourceType) || _.isNull(sourceType) || !_.isNumber(sourceType) || _.isNaN(sourceType)) {\r\n            if (_.isUndefined(o) || _.isNull(o)) {\r\n                return null;\r\n            } else {\r\n                treeSourceType = o.sourceType;\r\n            }\r\n        } else {\r\n            treeSourceType = sourceType;\r\n        }\r\n\r\n        var link = new Link(o.id, o.name, o.url, o.target, o.icon, treeSourceType);\r\n\r\n        return link;\r\n    }\r\n\r\n    private updateLazyInfo(): Promise<Link> {\r\n        const $injector = angular.element(\"body\").injector();\r\n        const mediaResource = $injector.get<any>(\"mediaResource\");\r\n        const mediaHelper = $injector.get<any>(\"mediaHelper\");\r\n        const contentResource = $injector.get<any>(\"contentResource\");\r\n        //const $routeParams = $injector.get<any>(\"$routeParams\");\r\n\r\n        const promise = new Promise((resolve) => {\r\n            if (this.isResolveld) {\r\n                resolve(this);\r\n                return this;\r\n            }\r\n\r\n            this.isResolveld = true;\r\n            if (this.sourceType === TreeSourceType.ExternalUrl) {\r\n                this.icon = \"icon-globe\";\r\n                resolve(this);\r\n            } else if (this.sourceType === TreeSourceType.Member) {\r\n                this.icon = \"icon-user\";\r\n                resolve(this);\r\n            } else if (this.sourceType === TreeSourceType.Content) {\r\n                if (this.id === -1 || this.id === null || this.id === undefined) {\r\n                    resolve(null);\r\n                    return this;\r\n                }\r\n\r\n                let ent = TreeSourceHelper.getEntityType(this.sourceType);\r\n                contentResource.getById(this.id, ent).then(item => {\r\n                    this.name = item.name;\r\n                    this.icon = item.icon;\r\n                    this.url = item.url;\r\n\r\n                    if (_.isEmpty(this.icon)) {\r\n                        this.icon = this.sourceType === TreeSourceType.Content ? \"icon-umb-content\" : \"icon-picture\";\r\n                    }\r\n\r\n                    resolve(this);\r\n                });\r\n            } else if (this.sourceType === TreeSourceType.Media) {\r\n                if (this.id === -1 || this.id === null || this.id === undefined) {\r\n                    resolve(null);\r\n                    return this;\r\n                }\r\n\r\n                let ent = TreeSourceHelper.getEntityType(this.sourceType);\r\n                mediaResource.getById(this.id, ent).then(item => {\r\n                    this.name = item.name;\r\n                    this.icon = item.icon;\r\n                    this.url = mediaHelper.resolveFile(item);\r\n\r\n                    this.sourceType = TreeSourceType.Content;\r\n\r\n                    if (_.isEmpty(this.icon)) {\r\n                        this.icon = <any>this.sourceType === TreeSourceType.Content ? \"icon-umb-content\" : \"icon-picture\";\r\n                    }\r\n\r\n                    resolve(this);\r\n                });\r\n            } else {\r\n                resolve(this);\r\n            }\r\n\r\n            return this;\r\n        });\r\n\r\n        //TreeSourceModel.promises.push(promise);\r\n        return promise;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/Components/Link.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport { CardImage } from \"./cardController\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.CardSettingController\r\n* @function\r\n*\r\n* @description\r\n* Handles the card property editor settings.\r\n*/\r\nexport class CardSettingController {\r\n    private $scope: any;\r\n    private $timeout: any;\r\n    private $rootScope: any;\r\n    private dialogService: any;\r\n    private notificationsService: any;\r\n    private slimsyResource: any;\r\n    private overlay: any;\r\n    \r\n    $inject = [\"$scope\", \"$timeout\", \"$rootScope\", \"dialogService\", \"notificationsService\", \"slimsyResource\"];\r\n    constructor($scope, $timeout, $rootScope, dialogService, notificationsService, slimsyResource) {\r\n        this.$scope = $scope;\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.dialogService = dialogService;\r\n        this.notificationsService = notificationsService;\r\n        this.slimsyResource = slimsyResource;\r\n        this.$scope.model.value = this.$scope.model.selectedImage || new CardImage(-1, \"\", \"\");\r\n    }\r\n\r\n    public selectImage() {\r\n        const self = this;\r\n        self.overlay = {\r\n            view: \"mediapicker\",\r\n            disableFolderSelect: true,\r\n            show: true,\r\n            hideHeader: true,\r\n            onlyImages: true,\r\n            showDetails: false,\r\n            multiPicker: false,\r\n            submit(model: any) {\r\n                const media = model.selectedImages[0];\r\n                let value = new CardImage(media.id, media.altText || self.$scope.model.value.altText, self.$scope.model.value.title);\r\n                value.url = media.image;\r\n                value.icon = media.icon;\r\n                self.$scope.model.value = value;\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            },\r\n            close() {\r\n                self.overlay.show = false;\r\n                self.overlay = null;\r\n            }\r\n        };\r\n    }\r\n\r\n    public removeImage() {\r\n        const self = this;\r\n        self.$scope.model.value.url = \"\";\r\n        self.$scope.model.value.name = \"\";\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/cardSettingController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n//import * as angular from \"angular\";\r\n//import * as jquery from \"jquery\";\r\n//import * as umbraco from \"umbraco\";\r\nimport * as _ from \"underscore\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ImageNTextController\r\n* @function\r\n*\r\n* @description\r\n* Handles the image and text property editor.\r\n*/\r\n\r\nexport interface IRteConfig {\r\n    toolbar: string[];\r\n    stylesheets: string[];\r\n    dimensions: { height: number };\r\n    maxImageSize: number;\r\n}\r\n\r\nexport interface IImage {\r\n    url: string;\r\n    name: string;\r\n    alt: string;\r\n    title: string;\r\n}\r\n\r\nexport interface ILink {\r\n    name: string;\r\n    id: number;\r\n    url: string;\r\n    target: string;\r\n}\r\n\r\nexport class ImageNTextValue {\r\n    public image: IImage = {\r\n        url: \"\",\r\n        name: \"\",\r\n        alt: \"\",\r\n        title: \"\"\r\n    };\r\n\r\n    public align: string = \"left\";\r\n    public link: ILink = null;\r\n    public title: string = \"\";\r\n    public content: string = \"\";\r\n}\r\n\r\n//export class ImageNTextController {\r\n//    private angularHelper;\r\n//    private $element;\r\n//    private dictionaryResource;\r\n//    private dialogService;\r\n//    private $timeout;\r\n//    private $scope;\r\n//    private setRteDropdown: boolean;\r\n\r\n//    public dirty: boolean = false;\r\n//    public rteConfig: IRteConfig = {\r\n//        toolbar: [\"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\"],\r\n//        stylesheets: [\"RTE_Header\"],\r\n//        dimensions: { height: 0 },\r\n//        maxImageSize: 0\r\n//    };\r\n//    public rteConfigContent: IRteConfig = {\r\n//        toolbar: [\r\n//            \"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\", \"bold\", \"italic\", \"underline\",\r\n//            \"strikethrough\", \"alignleft\", \"aligncenter\", \"alignright\", \"alignjustify\", \"bullist\", \"numlist\",\r\n//            \"outdent\", \"indent\", \"link\", \"unlink\", \"hr\", \"subscript\", \"superscript\", \"charmap\"\r\n//        ],\r\n//        stylesheets: [\"RTE_2ColsContent\"],\r\n//        dimensions: { height: 200 },\r\n//        maxImageSize: 500\r\n//    };\r\n\r\n//    $inject = [\"$scope\", \"$timeout\", \"dialogService\", \"dictionaryResource\", \"$element\", \"angularHelper\"];\r\n//    constructor($scope, $timeout, dialogService, dictionaryResource, $element, angularHelper) {\r\n//        this.angularHelper = angularHelper;\r\n//        this.$element = $element;\r\n//        this.dictionaryResource = dictionaryResource;\r\n//        this.dialogService = dialogService;\r\n//        this.$timeout = $timeout;\r\n//        this.$scope = $scope;\r\n\r\n//        if (!$scope.control.value) {\r\n//            $scope.control.value = new ImageNTextValue();\r\n//        }\r\n\r\n//        $scope.$watch(\"control.value\",\r\n//            (n, o) => {\r\n//                if (n !== o) {\r\n//                    this.setDirty();\r\n//                }\r\n//            }, true);\r\n//    }\r\n\r\n//    openSetting() {\r\n//        const self = this;\r\n//        this.setLimitedRte();\r\n//        this.dialogService.open({\r\n//            template: \"/App_Plugins/BlueLeet.UComponents/gridEditors/imageText/settings.html\",\r\n//            dialogData: {\r\n//                model: self,\r\n//                dic: this.$scope.dictionary\r\n//            }\r\n//        });\r\n//    }\r\n\r\n//    setDirty() {\r\n//        if (!this.dirty) {\r\n//            this.dirty = true;\r\n//            var currentForm = this.angularHelper.getCurrentForm(this.$scope);\r\n//            currentForm.$setDirty();\r\n//        }\r\n//    }\r\n\r\n//    setLimitedRte(numberOfTry?: number) {\r\n//        this.$scope.diablelsTools = [\r\n//            \"Align left\", \"Align right\", \"Justify\", \"Bold\", \"Italic\", \"Underline\", \"Strikethrough\",\r\n//            \"Align center\", \"Bullet list\", \"Decrease indent\", \"Increase indent\", \"Insert/edit link\",\r\n//            \"Remove link\",\r\n//            \"Insert horizontal rule\", \"Subscript\", \"Superscript\", \"Special character\", \"Numbered list\"\r\n//        ];\r\n\r\n//        var buttons = $(this.$element).find(\".bl-column-title .mce-btn-group button\");\r\n//        if (buttons.length > 0) {\r\n//            this.setRteDropdown = true;\r\n//            this.removeRteControl(buttons);\r\n//        } else {\r\n//            numberOfTry++;\r\n//            if (numberOfTry < 20) {\r\n//                this.$timeout(() => {\r\n//                    this.setLimitedRte(numberOfTry);\r\n//                }, 500);\r\n//            }\r\n//        }\r\n//    }\r\n\r\n//    removeRteControl(buttons) {\r\n//        const self = this;\r\n//        $(buttons).each(function () {\r\n//            // ReSharper disable once SuspiciousThisUsage\r\n//            if ($(this).html().indexOf(\"italic\") > -1) {\r\n//                // ReSharper disable once SuspiciousThisUsage\r\n//                $(this).remove();\r\n//            }\r\n\r\n//            // ReSharper disable once SuspiciousThisUsage\r\n//            if ($(this).html().indexOf(\"mce-caret\") > -1) {\r\n//                // ReSharper disable once SuspiciousThisUsage\r\n//                $(this).click(() => {\r\n//                    self.$timeout(() => {\r\n//                        self.removeStyles();\r\n//                    }, 1);\r\n//                });\r\n//            }\r\n//        });\r\n//    }\r\n\r\n//    removeStyles() {\r\n//        if ($(\".mce-menu\").length && this.setRteDropdown) {\r\n//            this.setRteDropdown = false;\r\n//            $($(\".mce-menu\")[$(\".mce-menu\").length - 1])\r\n//                .find(\".mce-stack-layout-item\")\r\n//                .each(function () {\r\n//                    // ReSharper disable once SuspiciousThisUsage\r\n//                    if ($(this).html().indexOf(\"Color Header\") === -1) {\r\n//                        // ReSharper disable once SuspiciousThisUsage\r\n//                        $(this).hide();\r\n//                    }\r\n//                });\r\n//        }\r\n//    }\r\n\r\n//    showSelection() {\r\n//        var textComponent = (<any>document).getElementById(this.$scope.control.$uniqueId);\r\n//        var selectedText = \"\";\r\n//        var startPos = 0;\r\n//        var textLength = 0;\r\n\r\n//        // IE version\r\n//        if ((<any>document).selection != undefined) {\r\n//            textComponent.focus();\r\n//            var sel = (<any>document).selection.createRange();\r\n//            selectedText = sel.text;\r\n//            startPos = sel.startOffset;\r\n//            textLength = selectedText.length;\r\n//        }\r\n//        // Mozilla version\r\n//        else if (textComponent.selectionStart != undefined) {\r\n//            startPos = textComponent.selectionStart;\r\n//            var endPos = textComponent.selectionEnd;\r\n//            selectedText = textComponent.value.substring(startPos, endPos);\r\n//            textLength = selectedText.length;\r\n//        }\r\n//        var hightlightFormat = \"<span class='colorHeader'>#text#</span>\";\r\n//        hightlightFormat = hightlightFormat.replace(\"#text#\", selectedText);\r\n//        this.rep(this.$scope.control.value.title, startPos, hightlightFormat, textLength);\r\n//    }\r\n\r\n//    rep(str: string, index: number, newStr: string, textLength: number) {\r\n//        str = this.setCharAt(str, index, newStr, textLength);\r\n//        console.log(str);\r\n//        this.$scope.control.value.title = str;\r\n//    }\r\n\r\n//    setCharAt(str: string, index: number, chr: string, textLength: number) {\r\n//        if (index > str.length - 1) return str;\r\n//        return str.substr(0, index) + chr + str.substr(index + textLength);\r\n//    }\r\n//}\r\n\r\nexport function ImageNTextController($scope, $timeout, dialogService, dictionaryResource, $element, angularHelper) {\r\n    $scope.isDirty = false;\r\n\r\n    $scope.rteConfig = {\r\n        toolbar: [\"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\"],\r\n        stylesheets: [\"RTE_Header\"],\r\n        dimensions: { height: 0 },\r\n        maxImageSize: 0\r\n    };\r\n\r\n    $scope.rteConfigContent = {\r\n        toolbar: [\r\n            \"code\", \"removeformat\", \"undo\", \"redo\", \"cut\", \"copy\", \"styleselect\", \"bold\", \"italic\", \"underline\",\r\n            \"strikethrough\", \"alignleft\", \"aligncenter\", \"alignright\", \"alignjustify\", \"bullist\", \"numlist\",\r\n            \"outdent\", \"indent\", \"link\", \"unlink\", \"hr\", \"subscript\", \"superscript\", \"charmap\"\r\n        ],\r\n        stylesheets: [\"RTE_2ColsContent\"],\r\n        dimensions: { height: 200 },\r\n        maxImageSize: 500\r\n    };\r\n\r\n    if (_.isEmpty($scope.control.value) || _.isNull($scope.control.value) || _.isUndefined($scope.control.value)) {\r\n        $scope.control.value = {\r\n            image: {\r\n                url: \"\",\r\n                name: \"\",\r\n                alt: \"\",\r\n                title: \"\"\r\n            },\r\n            align: \"left\",\r\n            link: null,\r\n            title: \"\",\r\n            content: \"\"\r\n        };\r\n    }\r\n\r\n    $scope.openSetting = (control) => {\r\n        $scope.setLimitedRTE();\r\n        dialogService.open({\r\n            template: \"/App_Plugins/BlueLeet.UComponents/gridEditors/imageText/settings.html\",\r\n            dialogData: {\r\n                model: control\r\n            }\r\n        });\r\n    }\r\n\r\n    $scope.setDirty = () => {\r\n        if (!$scope.isDirty) {\r\n            $scope.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    $scope.$watch(\"control.value\",\r\n        (n, o) => {\r\n            if (n !== o) {\r\n                $scope.setDirty();\r\n            }\r\n        },\r\n        true);\r\n\r\n    $scope.setLimitedRTE = numberOfTry => {\r\n        $scope.diablelsTools = [\r\n            \"Align left\", \"Align right\", \"Justify\", \"Bold\", \"Italic\", \"Underline\", \"Strikethrough\",\r\n            \"Align center\", \"Bullet list\", \"Decrease indent\", \"Increase indent\", \"Insert/edit link\",\r\n            \"Remove link\",\r\n            \"Insert horizontal rule\", \"Subscript\", \"Superscript\", \"Special character\", \"Numbered list\"\r\n        ];\r\n\r\n        var buttons = $($element).find(\".bl-column-title .mce-btn-group button\");\r\n        if (buttons.length > 0) {\r\n            $scope.setRteDropdown = true;\r\n            $scope.removeRTEControl(buttons);\r\n        } else {\r\n            numberOfTry++;\r\n            if (numberOfTry < 20) {\r\n                $timeout(() => {\r\n                    $scope.setLimitedRTE(numberOfTry);\r\n                }, 500);\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.removeRTEControl = buttons => {\r\n        $(buttons)\r\n            .each(function () {\r\n                if ($(this).html().indexOf(\"italic\") > -1) {\r\n                    $(this).remove();\r\n                }\r\n                if ($(this).html().indexOf(\"mce-caret\") > -1) {\r\n                    $(this)\r\n                        .click(() => {\r\n                            $timeout(() => {\r\n                                $scope.removeStyles();\r\n                            }, 1);\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    $scope.removeStyles = () => {\r\n        if ($(\".mce-menu\").length && $scope.setRteDropdown) {\r\n            $scope.setRteDropdown = false;\r\n            $($(\".mce-menu\")[$(\".mce-menu\").length - 1])\r\n                .find(\".mce-stack-layout-item\")\r\n                .each(function () {\r\n                    if ($(this).html().indexOf(\"Color Header\") === -1) {\r\n                        $(this).hide();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    $scope.showSelection = () => {\r\n        var textComponent = (<any>document).getElementById($scope.control.$uniqueId);\r\n        var selectedText = \"\";\r\n        var startPos = 0;\r\n        var textLength = 0;\r\n\r\n        // IE version\r\n        if ((<any>document).selection != undefined) {\r\n            textComponent.focus();\r\n            var sel = (<any>document).selection.createRange();\r\n            selectedText = sel.text;\r\n            startPos = sel.startOffset;\r\n            textLength = selectedText.length;\r\n        }\r\n        // Mozilla version\r\n        else if (textComponent.selectionStart != undefined) {\r\n            startPos = textComponent.selectionStart;\r\n            var endPos = textComponent.selectionEnd;\r\n            selectedText = textComponent.value.substring(startPos, endPos);\r\n            textLength = selectedText.length;\r\n        }\r\n        var hightlightFormat = \"<span class='colorHeader'>#text#</span>\";\r\n        hightlightFormat = hightlightFormat.replace(\"#text#\", selectedText);\r\n        rep($scope.control.value.title, startPos, hightlightFormat, textLength);\r\n    }\r\n\r\n    function rep(str: string, index: number, newStr: string, textLength: number) {\r\n        str = setCharAt(str, index, newStr, textLength);\r\n        console.log(str);\r\n        $scope.control.value.title = str;\r\n    }\r\n\r\n    function setCharAt(str: string, index: number, chr: string, textLength: number) {\r\n        if (index > str.length - 1) return str;\r\n        return str.substr(0, index) + chr + str.substr(index + textLength);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/imageNTextController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ImageNTextSettingController\r\n* @function\r\n*\r\n* @description\r\n* Handles the image and text property editor settings.\r\n*/\r\n\r\nexport class ImageNTextSettingController {\r\n    private $scope: any;\r\n    private $timeout: any;\r\n    private $rootScope: any;\r\n    private dialogService: any;\r\n    private notificationsService: any;\r\n    private slimsyResource: any;\r\n\r\n    // public model: any;\r\n    \r\n    $inject = [\"$scope\", \"$timeout\", \"$rootScope\", \"dialogService\", \"notificationsService\", \"slimsyResource\"];\r\n    constructor($scope, $timeout, $rootScope, dialogService, notificationsService, slimsyResource) {\r\n        this.$scope = $scope;\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.dialogService = dialogService;\r\n        this.notificationsService = notificationsService;\r\n        this.slimsyResource = slimsyResource;\r\n        this.$scope.model = $scope.dialogData.model;\r\n    }\r\n\r\n    public editLink() {\r\n        const self = this;\r\n        this.dialogService.linkPicker({\r\n            callback(data) {\r\n                self.$scope.model.value.link = {\r\n                    name: data.name,\r\n                    id: data.id,\r\n                    url: data.url,\r\n                    target: data.target\r\n                }\r\n            },\r\n            currentTarget: self.$scope.model.value.link\r\n        });\r\n    }\r\n\r\n    public selectImage() {\r\n        const self = this;\r\n        this.dialogService.mediaPicker({\r\n            startNodeId: -1,\r\n            multiPicker: false,\r\n            callback(data) {\r\n                if (data.contentTypeAlias === \"Image\") {\r\n                    self.slimsyResource.getImageUrl(data.id, 555, 334)\r\n                        .then(response => {\r\n                            let url = angular.fromJson(response.data);\r\n                            self.$scope.model.value.image.url = url;\r\n                        });\r\n                    self.$scope.model.value.image.id = data.id;\r\n                    self.$scope.model.value.image.name = data.name;\r\n                } else {\r\n                    self.notificationsService.error(\"Fail\", \": Please select image only.\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public removeImage() {\r\n        const self = this;\r\n        self.$scope.model.value.image.url = \"\";\r\n        self.$scope.model.value.image.name = \"\";\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/imageNTextSettingController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ImageSettingController\r\n* @function\r\n*\r\n* @description\r\n* Handles the image property editor settings.\r\n*/\r\nexport function ImageSettingController($scope, $timeout, $rootScope, dialogService, notificationsService) {\r\n    $scope.model = $scope.dialogData.model;\r\n    $scope.editLink = () => {\r\n        dialogService.linkPicker({\r\n            callback(data) {\r\n                $scope.model.value.link = {\r\n                    name: data.name,\r\n                    id: data.id,\r\n                    url: data.url,\r\n                    target: data.target\r\n                }\r\n            },\r\n            currentTarget: $scope.model.value.link\r\n        });\r\n\r\n    };\r\n\r\n    $scope.selectImage = () => {\r\n        dialogService.mediaPicker({\r\n            startNodeId: -1,\r\n            multiPicker: false,\r\n            callback(data) {\r\n                // ToDo: configure image data types somewere ?\r\n                if (data.contentTypeAlias === \"Image\") {\r\n                    $scope.model.value.image.url = data.image;\r\n                    $scope.model.value.image.name = data.name;\r\n                }\r\n                else {\r\n                    notificationsService.error(\"Fail\", \": Please select image only.\");\r\n                }\r\n            }\r\n        });\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/imageSettingController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.QuoteController\r\n* @function\r\n*\r\n* @description\r\n* Handles the quote property editor.\r\n*/\r\nexport function QuoteController($scope, $timeout, $rootScope, $element, dialogService, angularHelper) {\r\n    $scope.isDirty = false;\r\n\r\n    if (!$scope.control.value) {\r\n        $scope.control.value = {\r\n            quotetext: \"\",\r\n            authorname: \"\",\r\n            authordescription: \"\"\r\n        };\r\n    }\r\n\r\n    $scope.setPlaceholder = () => {\r\n        if (!$scope.control.value.quotetext) {\r\n            $scope.control.value.quotetext = $scope.dictionary.placeholderquote;\r\n        }\r\n    }\r\n\r\n    $scope.configrte = {\r\n        \"toolbar\": []\r\n        , \"stylesheets\": [\"RTE_Quote\"], \"dimensions\": { \"height\": 500 }, \"maxImageSize\": 500\r\n    };\r\n\r\n    $scope.hideToolbar = () => {\r\n        $timeout(() => {\r\n            var element = $($element).find(\".mce-toolbar\");\r\n            element.remove();\r\n        },\r\n            1000);\r\n    }\r\n    $scope.hideToolbar();\r\n\r\n    $scope.$watch(\"control.value\", (newValue, oldValue) => {\r\n        if (newValue !== oldValue) {\r\n            $scope.setDirty();\r\n        }\r\n    }, true);\r\n\r\n    $scope.setDirty = () => {\r\n        if (!$scope.isDirty) {\r\n            $scope.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/quoteController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.SeparatorController\r\n* @function\r\n*\r\n* @description\r\n* Handles the separator property editor.\r\n*/\r\nexport function SeparatorController($scope) {\r\n    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/GridEditors/separatorController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name MultiTreeSourceController\r\n* @function\r\n*\r\n* @description\r\n* Handles the multi tree source pre value editor.\r\n*/\r\nexport class ExternalLinkController extends ControllerBase {\r\n    $injector: any;\r\n    dialogService: umbraco.services.IDialogService;\r\n    entityResource: any;\r\n    $log: any;\r\n    target: { url: string, name: string, target: string };\r\n    \r\n    static $inject = [\"$injector\", \"$q\", \"$scope\", \"angularHelper\", \"dialogService\", \"entityResource\", \"$log\"];\r\n    constructor($injector, $q, $scope, angularHelper, dialogService: umbraco.services.IDialogService, entityResource, $log) {\r\n        const beforeInitialize = () => {\r\n            this.$injector = $injector;\r\n            this.$q = $q;\r\n            this.dialogService = dialogService;\r\n            this.entityResource = entityResource;\r\n            this.$log = $log;\r\n            this.target = { url: \"\", name: \"\", target: \"\" };\r\n            \r\n            if (!this.$scope.model) {\r\n                this.$scope.model = {};\r\n            }\r\n\r\n            if (!this.$scope.model.value) {\r\n                this.$scope.model.value = {};\r\n            }\r\n\r\n            if (this.$scope.model.target) {\r\n                jQuery.extend(true, this.target, this.$scope.model.target);\r\n            } else {\r\n                jQuery.extend(true, this.target, this.$scope.model.value);\r\n            }\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            jQuery.extend(true, this.$scope.model.value, this.target);\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PreValueEditors/externalLinkController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { TreeSourceType } from \"../Components/TreeSourceType\";\r\nimport { TreeSourceHelper } from \"../Components/TreeSourceHelper\";\r\nimport { TreeSourceModel } from \"../Components/TreeSourceModel\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name MultiTreeSourceController\r\n* @function\r\n*\r\n* @description\r\n* Handles the multi tree source pre value editor.\r\n*/\r\nexport class TreeSourceController extends ControllerBase {\r\n    $injector: any;\r\n    dialogService: umbraco.services.IDialogService;\r\n    entityResource: any;\r\n    $log: any;\r\n    iconHelper: any;\r\n    renderModel: any;\r\n    treePickerOverlay: any;\r\n\r\n    static $inject = [\"$injector\", \"$q\", \"$scope\", \"angularHelper\", \"dialogService\", \"entityResource\", \"$log\", \"iconHelper\"];\r\n    constructor($injector, $q, $scope, angularHelper, dialogService: umbraco.services.IDialogService, entityResource, $log, iconHelper) {\r\n        const beforeInitialize = () => {\r\n            this.$injector = $injector;\r\n            this.$q = $q;\r\n            this.dialogService = dialogService;\r\n            this.entityResource = entityResource;\r\n            this.$log = $log;\r\n            this.iconHelper = iconHelper;\r\n\r\n            if (!this.$scope.model) {\r\n                this.$scope.model = {};\r\n            }\r\n\r\n            if (!this.$scope.model.value) {\r\n                this.$scope.model.value = {\r\n                    type: TreeSourceType.Content\r\n                };\r\n            }\r\n\r\n            if (this.$scope.model.value.id && (this.$scope.model.value.type !== TreeSourceType.Member)) {\r\n                let ent = TreeSourceHelper.getEntityType(this.$scope.model.value.type);\r\n                entityResource.getById(this.$scope.model.value.id, ent).then(item => {\r\n                    item.icon = iconHelper.convertFromLegacyIcon(item.icon);\r\n                    this.$scope.node = item;\r\n                });\r\n            }\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            // this.$scope.model.value = this.renderModel;\r\n            // we always need to ensure we dont submit anything broken\r\n            if (this.$scope.model.value.type === TreeSourceType.Member) {\r\n                this.$scope.model.value.id = -1;\r\n                this.$scope.model.value.query = \"\";\r\n            }\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    openContentPicker() {\r\n        const self = this;\r\n        let view = \"treepicker\";\r\n        let section = \"content\";\r\n        let treeAlias = \"content\";\r\n\r\n        let type = TreeSourceHelper.parseSourceType(self.$scope.model.value.type);\r\n        if (type === TreeSourceType.Member) {\r\n            view = \"membergrouppicker\";\r\n            section = \"memberGroup\";\r\n            treeAlias = \"memberGroup\";\r\n        } else if (type === TreeSourceType.Media) {\r\n            section = \"media\";\r\n            treeAlias = \"media\";\r\n        }\r\n\r\n        this.treePickerOverlay = {\r\n            view: view,\r\n            section: section,\r\n            treeAlias: treeAlias,\r\n            multiPicker: false,\r\n            show: true,\r\n            submit(model) {\r\n                let treeSource: TreeSourceModel;\r\n                switch (type) {\r\n                    case TreeSourceType.Member:\r\n                        treeSource = new TreeSourceModel(type, -1, model.selectedMemberGroup || model.selectedMemberGroups.join(), TreeSourceType[type], \"\");\r\n                        //treeSource = self.$injector.instantiate(TreeSourceModel,\r\n                        //    {\r\n                        //        type: type,\r\n                        //        id: -1,\r\n                        //        value: model.selectedMemberGroup || model.selectedMemberGroups.join(),\r\n                        //        query: \"\",\r\n                        //        sourceName: TreeSourceType[type]\r\n                        //    });\r\n                        break;\r\n                    default:\r\n                        treeSource = new TreeSourceModel(type, model.selection[0].id, \"\", TreeSourceType[type], \"\");\r\n                        //treeSource = self.$injector.instantiate(TreeSourceModel,\r\n                        //    {\r\n                        //        type: type,\r\n                        //        id: model.selection[0].id,\r\n                        //        value: \"\",\r\n                        //        query: \"\",\r\n                        //        sourceName: TreeSourceType[type]\r\n                        //    });\r\n                        break;\r\n                }\r\n\r\n                self.populate(treeSource);\r\n                self.treePickerOverlay.show = false;\r\n                self.treePickerOverlay = null;\r\n            }\r\n        };\r\n    }\r\n\r\n    populate(item: TreeSourceModel) {\r\n        this.clear();\r\n        this.$scope.node = item;\r\n\r\n        // Save everything\r\n        jQuery.extend(true, this.$scope.model.value, item);\r\n    }\r\n\r\n    clear() {\r\n        this.$scope.model.value.id = undefined;\r\n        this.$scope.node = undefined;\r\n        this.$scope.model.value.query = undefined;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PreValueEditors/treeSourceController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as _ from \"underscore\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { IViewModel } from \"../Abstraction/IViewModel\";\r\nimport { IViewUpdate } from \"../Abstraction/IViewUpdate\";\r\nimport { TreeSourceModel } from \"../Components/TreeSourceModel\";\r\nimport { TreeSourceType } from \"../Components/TreeSourceType\";\r\n\r\n/**\r\n* @ngdoc BlueLeet.IViewUpdate<TextBoxKeywordController>\r\n* @name DefaultUpdateBehavior\r\n* @function\r\n*\r\n* @description\r\n* Handles the 'Default' update mode.\r\n*/\r\nexport class DefaultUpdateBehavior implements IViewUpdate<MultiTreeSourceController> {\r\n    $scope: any;\r\n    entityResource: umbraco.resources.IEntityResource;\r\n    notificationsService: any;\r\n    iconHelper: any;\r\n\r\n    static $inject = [\"$scope\", \"entityResource\", \"notificationsService\"];\r\n    constructor($scope, entityResource, notificationsService, iconHelper) {\r\n        this.$scope = $scope;\r\n        this.entityResource = entityResource;\r\n        this.notificationsService = notificationsService;\r\n        this.iconHelper = iconHelper;\r\n    }\r\n\r\n    update(vm: MultiTreeSourceController, newValue: TreeSourceModel, updateExisting: boolean): void {\r\n        if (_.isUndefined(newValue)) {\r\n            return;\r\n        }\r\n\r\n        if (updateExisting) {\r\n            var item = _.find(vm.treeSources, (x: TreeSourceModel) => x.sourceName === newValue.sourceName);\r\n            this.updateTreeSource(item, newValue);\r\n        } else {\r\n            vm.treeSources.push(newValue);\r\n            vm.sourceName = \"\";\r\n        }\r\n    }\r\n\r\n    updateTreeSource(existing: TreeSourceModel, value: TreeSourceModel): void {\r\n        jQuery.extend(true, existing, value);\r\n    }\r\n}\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name MultiTreeSourceController\r\n* @function\r\n*\r\n* @description\r\n* Handles the multi tree source pre value editor.\r\n*/\r\nexport class MultiTreeSourceController extends ControllerBase {\r\n    treeSources: TreeSourceModel[];\r\n    sourceName: string;\r\n    sortableOptions: any;\r\n    overlay: any;\r\n    $injector: any;\r\n    $q: any;\r\n    notificationsService: umbraco.services.INotificationsService;\r\n    promises: Array<Promise<any>>;\r\n\r\n    static $inject = [\"$injector\", \"$scope\", \"$q\", \"angularHelper\", \"notificationsService\"];\r\n    constructor($injector, $scope, $q: angular.IQService, angularHelper, notificationsService: umbraco.services.INotificationsService) {\r\n        const updateBehaviorFactory = (): IViewUpdate<IViewModel> => {\r\n            return $injector.instantiate(DefaultUpdateBehavior, { $scope: $scope });\r\n        };\r\n\r\n        const beforeInitialize = () => {\r\n            this.$injector = $injector;\r\n            this.$q = $q;\r\n            this.notificationsService = notificationsService;\r\n            this.sourceName = \"\";\r\n            this.sortableOptions = { handle: \".handle\" };\r\n            this.treeSources = [];\r\n            this.promises = [];\r\n\r\n            if (_.isArray($scope.model.value) && !_.isEmpty($scope.model.value)) {\r\n                _.forEach($scope.model.value,\r\n                    (item: { type: number, id: number, value: any, query: string, sourceName: string }) => {\r\n                        //var treeSource = $injector.instantiate(TreeSourceModel, { type: item.type, id: item.id, value: item.value, sourceName: item.sourceName, query: item.query });\r\n                        var treeSource = new TreeSourceModel(item.type, item.id, item.value, item.sourceName, item.query);\r\n                        this.promises.push(treeSource.updateLazyInfo());\r\n                        this.treeSources.push(treeSource);\r\n                    });\r\n            }\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            $scope.model.value = [];\r\n            _.forEach(this.treeSources, (item: TreeSourceModel) => {\r\n                $scope.model.value.push(item);\r\n            });\r\n        };\r\n\r\n        super($scope, $q, angularHelper, updateBehaviorFactory, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    loadPromise(): Promise<any> {\r\n        return Promise.all(this.promises);\r\n    }\r\n\r\n    openTreeSourcePicker(treeSourceModel: TreeSourceModel, isEdit: boolean = false): void {\r\n        var type = TreeSourceType[treeSourceModel.type];\r\n        this.overlay = {};\r\n        this.overlay.view = \"/App_Plugins/BlueLeet.UComponents/preValueEditors/treesource/treesource.html\";\r\n        this.overlay.multiPicker = \"0\";\r\n        this.overlay.startNodeId = treeSourceModel.id;\r\n        this.overlay.model = {};\r\n        this.overlay.model.value = {};\r\n        this.overlay.model.value.id = treeSourceModel.id;\r\n        this.overlay.model.value.type = type;\r\n        this.overlay.model.value.query = treeSourceModel.query;\r\n        this.overlay.show = true;\r\n\r\n        this.overlay.submit = model => {\r\n            // merge the changes.\r\n            jQuery.extend(true, treeSourceModel, model.value);\r\n            this.update(treeSourceModel, isEdit);\r\n            this.overlay.show = false;\r\n            this.overlay = null;\r\n        };\r\n\r\n        this.overlay.close = (): void => {\r\n            this.overlay.show = false;\r\n            this.overlay = null;\r\n        };\r\n    }\r\n\r\n    addTreeSource(): void {\r\n        // this is a new tree source check if it's valid.\r\n        if (_.isEmpty(this.sourceName)) {\r\n            this.notificationsService.warning(\"Source name is required\", \"The source name field must not be empty!\");\r\n            return;\r\n        }\r\n\r\n        if (_.findWhere(this.treeSources, { sourceName: this.sourceName })) {\r\n            this.notificationsService.warning(\"Tree source exists\", \"'\" + this.sourceName + \"' already exists in the list!\");\r\n            return;\r\n        }\r\n\r\n        //var treeSource = this.$injector.instantiate(TreeSourceModel, { type: TreeSourceType[TreeSourceType.Content], id: -1, value: \"\", sourceName: this.sourceName, query: \"\" });\r\n        var treeSource = new TreeSourceModel(TreeSourceType.Content, -1, \"\", this.sourceName, \"\");\r\n        this.openTreeSourcePicker(treeSource);\r\n    }\r\n\r\n    remove(index: number) {\r\n        this.treeSources.splice(index, 1);\r\n    };\r\n\r\n    edit(index: number) {\r\n        var treeSource = this.treeSources[index];\r\n        this.openTreeSourcePicker(treeSource, true);\r\n    }\r\n\r\n    showHandle(): boolean {\r\n        return _.any(this.treeSources) && this.treeSources.length > 1;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PreValueEditors/multiTreeSourceController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.AdvancedSeoPreviewController\r\n* @function\r\n*\r\n* @description\r\n* Handles the SEO preview property editor.\r\n*/\r\nexport function AdvancedSeoPreviewController($scope: any, $element: any, dialogService: any, $timeout: any, $rootScope: any, $compile: any, angularHelper: any, shareSeoDataService: any) {\r\n    shareSeoDataService.onPreviewUpdate($scope, (context, data) => {\r\n        $scope.title = data.title;\r\n        $scope.titleMaxCount = data.titleMaxCount;\r\n        $scope.description = data.description;\r\n        $scope.descriptionMaxCount = data.descriptionMaxCount;\r\n        $($element).find(\".bl-module-advancedSeoPreview .preview-wrapper .preview-container\").width($scope.titleMaxCount);\r\n    });\r\n\r\n    $scope.getUrl = () => ($scope.protocolAndHost() + $scope.getParentContent().urls[0]);\r\n\r\n    $scope.protocolAndHost = () => {\r\n        var http = location.protocol;\r\n        var slashes = http.concat(\"//\");\r\n\r\n        return slashes.concat(window.location.hostname);\r\n    };\r\n\r\n    $scope.getParentContent = () => {\r\n        var currentScope = $scope.$parent;\r\n        for (var i = 0; i < 150; i++) {\r\n            if (currentScope.content) { return currentScope.content; }\r\n            currentScope = currentScope.$parent;\r\n        }\r\n            \r\n        return $scope.content;\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/advancedSeoPreviewController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.DropdownController\r\n* @function\r\n*\r\n* @description\r\n* Handles the drop-down property editor.\r\n*/\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\n\r\nexport class DropdownController extends ControllerBase {\r\n    dropdown: any | { value: any };\r\n\r\n    constructor($scope: any, angularHelper, $q: ng.IQService) {\r\n        const beforeInitialize = () => {\r\n            if ($scope.model.value === \"\") {\r\n                if ($scope.model.config.options.length) {\r\n                    this.dropdown = $scope.model.config.options[0];\r\n                }\r\n            } else {\r\n                var index = 0;\r\n                $scope.model.config.options.filter(option => {\r\n                    if (option.value === $scope.model.value) {\r\n                        this.dropdown = $scope.model.config.options[index];\r\n                    }\r\n                    index++;\r\n                });\r\n            }\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            this.$scope.model.value = this.dropdown.value;\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/dropdownController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.RobotsController\r\n* @function\r\n*\r\n* @description\r\n* Handles the robots property editor.\r\n*/\r\nexport function RobotsController($scope, $q, $routeParams, $element, angularHelper, localizationService) {\r\n    var vm = this;\r\n    vm.loading = true;\r\n    vm.isDirty = false;\r\n    vm.dictionary = {};\r\n    var checkbox = $($element).find(\".bl-statebox\");\r\n\r\n    $q.all([\r\n        // load localizations\r\n        localizationService.localize(\"blueleetRobots_allowAll\")\r\n            .then(value => {\r\n                vm.dictionary.allowAll = value;\r\n            }),\r\n        localizationService.localize(\"blueleetRobots_disallowAll\")\r\n            .then(value => {\r\n                vm.dictionary.disallowAll = value;\r\n            }),\r\n        localizationService.localize(\"blueleetRobots_automatic\")\r\n            .then(value => {\r\n                vm.dictionary.automatic = value;\r\n            }),\r\n        localizationService.localize(\"blueleetRobots_automaticDescription\")\r\n            .then(value => {\r\n                vm.dictionary.automaticDescription = value;\r\n            })\r\n    ])\r\n        .then(() => {\r\n            // initialization loading is complete\r\n            vm.loading = false;\r\n            initialize();\r\n        });\r\n        \r\n    vm.setTo = option => {\r\n        $scope.model.value.Option = option;\r\n        vm.setCheckbox();\r\n\r\n        if (option === 0) {\r\n            $scope.model.value.Content = getDisallowAll();\r\n            vm.ShowContent = $scope.model.value.Content;\r\n        } else if (option === 1) {\r\n            $scope.model.value.Content = getAllowAll();\r\n            vm.ShowContent = $scope.model.value.Content;\r\n        } else if (option === 2) {\r\n            $scope.model.value.Content = getDisallowUmbraco();\r\n            vm.ShowContent = vm.dictionary.automaticDescription;\r\n        }\r\n\r\n        vm.setDirty();\r\n    }\r\n\r\n    vm.setCheckbox = () => {\r\n        $(checkbox).removeClass(\"bl-statebox-active\");\r\n        $(checkbox[$scope.model.value.Option]).addClass(\"bl-statebox-active\");\r\n    }\r\n        \r\n\r\n    vm.setDirty = () => {\r\n        if (!vm.isDirty) {\r\n            vm.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    function initialize() {\r\n        if (!$scope.model.value) {\r\n            $scope.model.value = {};\r\n            $scope.model.value.Option = 0;\r\n            $scope.model.value.Content = getDisallowAll();\r\n        }\r\n\r\n        vm.setTo($scope.model.value.Option);\r\n        vm.setCheckbox();\r\n    }\r\n\r\n    function getDisallowAll() {\r\n        return \"User-agent: *\" +\r\n            \"\\n\" +\r\n            \"Disallow: /\";\r\n    }\r\n\r\n    function getDisallowUmbraco() {\r\n        return \"User-agent: *\" +\r\n            \"\\n\" +\r\n            \"Disallow: /aspnet_client/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /bin/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /config/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /css/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /data/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /install/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /masterpages/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /python/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /scripts/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /umbraco/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /umbraco_client/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /usercontrols/\" +\r\n            \"\\n\" +\r\n            \"Disallow: /xslt/\";\r\n    }\r\n\r\n    function getAllowAll() {\r\n        return \"User-agent: *\" +\r\n            \"\\n\" +\r\n            \"Allow: /\";\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/robotsController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as ng from \"angular\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { IViewModel } from \"../Abstraction/IViewModel\";\r\nimport { IViewUpdate } from \"../Abstraction/IViewUpdate\";\r\n\r\n/**\r\n* @ngdoc BlueLeet.IViewUpdate<TextBoxKeywordController>\r\n* @name DefaultUpdateBehavior\r\n* @function\r\n*\r\n* @description\r\n* Handles the 'Default' update mode.\r\n*/\r\nexport class DefaultUpdateBehavior implements IViewUpdate<TextBoxKeywordController> {\r\n    $scope: any;\r\n\r\n    shareSeoDataService: any;\r\n    notificationsService: any;\r\n\r\n    static $inject = [\"$scope\", \"shareSeoDataService\", \"notificationsService\"];\r\n    constructor($scope, shareSeoDataService, notificationsService) {\r\n        this.$scope = $scope;\r\n        this.shareSeoDataService = shareSeoDataService;\r\n        this.notificationsService = notificationsService;\r\n    }\r\n\r\n    update(vm: TextBoxKeywordController): void {\r\n        if (vm.keyword) {\r\n            const match = vm.keywordList.filter(obj => (obj.toLowerCase() === vm.keyword.toLowerCase()));\r\n            if (!match.length) {\r\n                const keyword = vm.keyword.toLowerCase();\r\n                if (vm.isSeoKeyword) {\r\n                    var objhasfound = this.shareSeoDataService.checkHasFoundKeyword(keyword);\r\n                    if (!objhasfound.title) {\r\n                        this.notificationsService.warning(vm.dictionary.warningHeadline,\r\n                            vm.dictionary.warningMessage.replace(\"{0}\", \"<strong>\" + keyword + \"</strong>\")\r\n                                .replace(\"{1}\", \"<strong>Title</strong>\"));\r\n                    }\r\n                    if (!objhasfound.desc) {\r\n                        this.notificationsService.warning(vm.dictionary.warningHeadline,\r\n                            vm.dictionary.warningMessage.replace(\"{0}\", \"<strong>\" + keyword + \"</strong>\")\r\n                                .replace(\"{1}\", \"<strong>Description</strong>\"));\r\n                    }\r\n\r\n                    this.shareSeoDataService.setKeywords(keyword);\r\n                }\r\n                vm.keywordList.push(keyword);\r\n                vm.keyword = \"\";\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name TextBoxKeywordController\r\n* @function\r\n*\r\n* @description\r\n* Handles the textbox Keyword property editor.\r\n*/\r\nexport class TextBoxKeywordController extends ControllerBase {\r\n    localizationService: any;\r\n    notificationsService: any;\r\n    shareSeoDataService: any;\r\n    keywordList: Array<string>;\r\n    keyword: string;\r\n    dictionary: any;\r\n    maxCount: any;\r\n    alignVertical: boolean;\r\n    isSeoKeyword: boolean;\r\n\r\n    constructor($injector, $scope: any, angularHelper, $q: ng.IQService, localizationService: any, shareSeoDataService: any, notificationsService: any) {\r\n        if (!$scope.model.value) {\r\n            $scope.model.value = \"\";\r\n        }\r\n\r\n        const updateBehaviorFactory = (): IViewUpdate<IViewModel> => {\r\n            return $injector.instantiate(DefaultUpdateBehavior, { $scope: $scope });\r\n        };\r\n\r\n        const beforeInitialize = () => {\r\n            this.localizationService = localizationService;\r\n            this.shareSeoDataService = shareSeoDataService;\r\n            this.notificationsService = notificationsService;\r\n            this.dictionary = {};\r\n\r\n            if (!$scope.model.value) {\r\n                this.keywordList = [];\r\n            } else {\r\n                this.keywordList = $scope.model.value.split(\",\");\r\n            }\r\n\r\n            //this.warnOnEmptySave = JSON.parse($scope.model.config.warnOnEmptySave) as boolean;\r\n            //this.isSeoDescription = JSON.parse($scope.model.config.isSeoDescription) as boolean;\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            this.keyword = \"\";\r\n\r\n            if (this.keywordList.length) {\r\n                $scope.model.value = this.keywordList.join(\",\");\r\n            } else {\r\n                $scope.model.value = \"\";\r\n            }\r\n\r\n            if (!this.isSeoKeyword) {\r\n                return;\r\n            }\r\n\r\n            if (!this.keywordList.length) {\r\n                notificationsService.info(this.dictionary.infoheadline, this.dictionary.infomessage);\r\n            }\r\n            //else {\r\n            //    // ToDo: Register every seo editor label so we can say hey 'Title' do not contain keyword 'Keyword1'\r\n            //    this.keywordList.forEach(obj => {\r\n            //        var objhasfound = shareSeoDataService.checkHasFoundKeyword(obj);\r\n            //        if (!objhasfound.title) {\r\n            //            notificationsService.warning(this.dictionary.warningHeadline,\r\n            //                this.dictionary.warningMessage.replace(\"{0}\", \"<strong>\" + obj + \"</strong>\")\r\n            //                    .replace(\"{1}\", \"<strong>Title</strong>\"));\r\n            //        }\r\n            //        if (!objhasfound.desc) {\r\n            //            notificationsService.warning(this.dictionary.warningHeadline,\r\n            //                this.dictionary.warningMessage.replace(\"{0}\", \"<strong>\" + obj + \"</strong>\")\r\n            //                    .replace(\"{1}\", \"<strong>Description</strong>\"));\r\n            //        }\r\n            //    });\r\n            //}\r\n        };\r\n\r\n        super($scope, $q, angularHelper, updateBehaviorFactory, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    initialize(): void {\r\n        // Set configuration keys\r\n        this.maxCount = this.$scope.model.config.maxCount;\r\n        this.alignVertical = JSON.parse(this.$scope.model.config.alignVertical);\r\n        this.isSeoKeyword = JSON.parse(this.$scope.model.config.isSeoKeyword);\r\n\r\n        if (this.isSeoKeyword && this.keywordList.length) {\r\n            // Set SEO keywords to service.\r\n            this.keywordList.forEach(keyword => {\r\n                this.shareSeoDataService.setKeywords(keyword);\r\n            });\r\n        }\r\n    }\r\n\r\n    listenForDirty(): void {\r\n        this.$scope.$watch(\"[vm.keywordList,vm.keyword]\", (newValue, oldValue) => {\r\n            if (newValue[0] !== oldValue[0] || newValue[1] !== oldValue[1]) {\r\n                this.setDirty();\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    load(): ng.IPromise<any> {\r\n        return this.$q.all([\r\n            this.localizationService.localize(\"blueleetTextboxKeyWords_warningHeadline\")\r\n                .then(value => {\r\n                    this.dictionary.warningHeadline = value;\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextboxKeyWords_warningMessage\")\r\n                .then(value => {\r\n                    this.dictionary.warningMessage = value;\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextboxKeyWords_infoHeadline\")\r\n                .then(value => {\r\n                    this.dictionary.infoHeadline = value;\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextboxKeyWords_infoMessage\")\r\n                .then(value => {\r\n                    this.dictionary.infoMessage = value;\r\n                })\r\n        ]);\r\n    }\r\n\r\n    remove(index): void {\r\n        this.keywordList.splice(index, 1);\r\n    }\r\n\r\n    process(event: KeyboardEvent): void {\r\n        this.keyword = this.keyword.split(\" \").join(\"\");\r\n        if (event.keyCode === 13) //Enter\r\n        {\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    handleKeypress(event: KeyboardEvent): void {\r\n        if (event.keyCode === 32) //Space\r\n        {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/textBoxKeywordController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\nimport { IViewModel } from \"../Abstraction/IViewModel\";\r\nimport { IViewUpdate } from \"../Abstraction/IViewUpdate\";\r\n\r\n/**\r\n* @ngdoc BlueLeet.IViewUpdate<TextareaWithCharacterCountController>\r\n* @name StrictUpdateBehavior\r\n* @function\r\n*\r\n* @description\r\n* Handles the 'Strict' update mode.\r\n*/\r\nexport class StrictUpdateBehavior implements IViewUpdate<TextWithModeCountController> {\r\n    $scope: any;\r\n    shareSeoDataService: any;\r\n    textPixelService: any;\r\n\r\n    static $inject = [\"$scope\", \"shareSeoDataService\", \"textPixelService\"];\r\n    constructor($scope, shareSeoDataService, textPixelService) {\r\n        this.$scope = $scope;\r\n        this.shareSeoDataService = shareSeoDataService;\r\n        this.textPixelService = textPixelService;\r\n    }\r\n\r\n    getRemainingCount(vm: TextWithModeCountController) {\r\n        if (vm.isPixelCount) {\r\n            return vm.maxCount - this.textPixelService.getWidth(this.$scope.model.value);\r\n        }\r\n\r\n        return vm.maxCount - this.$scope.model.value.length;\r\n    }\r\n\r\n    update(vm: TextWithModeCountController): void {\r\n        if (vm.isSeoTitle) {\r\n            this.shareSeoDataService.setTitle(this.$scope.model.value, vm.maxCount);\r\n        } else if (vm.isSeoDescription) {\r\n            this.shareSeoDataService.setDescription(this.$scope.model.value, vm.maxCount);\r\n        }\r\n\r\n        // Calculate the remaining characters\r\n        vm.remainingCount = this.getRemainingCount(vm);\r\n        vm.isValid = true;\r\n\r\n        // Is our maximum limit reached?\r\n        if (vm.remainingCount <= 0) {\r\n            vm.remainingCount = 0;\r\n            this.$scope.model.value = this.$scope.model.value.substr(0, vm.maxCount);\r\n            return;\r\n        }\r\n\r\n        // Set the correct CSS class\r\n        if (vm.remainingCount > vm.maxCount) {\r\n            vm.isValid = false;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n* @ngdoc BlueLeet.IViewUpdate<TextareaWithCharacterCountController>\r\n* @name DefaultUpdateBehavior\r\n* @function\r\n*\r\n* @description\r\n* Handles the 'Default' update mode.\r\n*/\r\nexport class DefaultUpdateBehavior implements IViewUpdate<TextWithModeCountController> {\r\n    $scope: any;\r\n    shareSeoDataService: any;\r\n    textPixelService: any;\r\n\r\n    static $inject = [\"$scope\", \"shareSeoDataService\", \"textPixelService\"];\r\n    constructor($scope, shareSeoDataService, textPixelService) {\r\n        this.$scope = $scope;\r\n        this.shareSeoDataService = shareSeoDataService;\r\n        this.textPixelService = textPixelService;\r\n    }\r\n\r\n    getRemainingCount(vm: TextWithModeCountController) {\r\n        if (vm.isPixelCount) {\r\n            return this.textPixelService.getWidth(this.$scope.model.value);\r\n        }\r\n\r\n        return this.$scope.model.value.length;\r\n    }\r\n\r\n    update(vm: TextWithModeCountController): void {\r\n        if (vm.isSeoTitle) {\r\n            this.shareSeoDataService.setTitle(this.$scope.model.value, vm.maxCount);\r\n        } else if (vm.isSeoDescription) {\r\n            this.shareSeoDataService.setDescription(this.$scope.model.value, vm.maxCount);\r\n        }\r\n\r\n        // Calculate the remaining characters\r\n        vm.remainingCount = this.getRemainingCount(vm);\r\n        vm.isValid = true;\r\n\r\n        // Set the correct CSS class\r\n        if (vm.remainingCount > vm.maxCount) {\r\n            vm.isValid = false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name TextAreaWithCharacterCountCountController\r\n* @function\r\n*\r\n* @description\r\n* Handles the textarea with character count property editor.\r\n*/\r\nexport class TextWithModeCountController extends ControllerBase {\r\n    $injector: any;\r\n    localizationService: any;\r\n    shareSeoDataService: any;\r\n    notificationsService: any;\r\n    dictionary: any;\r\n    maxCount: number;\r\n    remainingCount: number;\r\n    description: string;\r\n    forceMaxCharacters: boolean;\r\n    warnOnEmptySave: boolean;\r\n    isSeoTitle: boolean;\r\n    isSeoDescription: boolean;\r\n    isPixelCount: boolean;\r\n    displayAsTextbox: boolean;\r\n\r\n    static $inject = [\"$injector\", \"$scope\", \"angularHelper\", \"$q\", \"localizationService\", \"shareSeoDataService\", \"notificationsService\"];\r\n    constructor($injector, $scope: any, angularHelper, $q: angular.IQService, localizationService: any, shareSeoDataService: any, notificationsService: any) {\r\n        if (!$scope.model.value) {\r\n            $scope.model.value = \"\";\r\n        }\r\n\r\n        const updateBehaviorFactory = (): IViewUpdate<IViewModel> => {\r\n            var updateBehavior = DefaultUpdateBehavior;\r\n            this.forceMaxCharacters = JSON.parse($scope.model.config.forceMaxCharacters) as boolean;\r\n            if (this.forceMaxCharacters) {\r\n                updateBehavior = StrictUpdateBehavior;\r\n            }\r\n\r\n            return $injector.instantiate(updateBehavior, { $scope: $scope });\r\n        };\r\n\r\n        const beforeInitialize = () => {\r\n            this.localizationService = localizationService;\r\n            this.shareSeoDataService = shareSeoDataService;\r\n            this.notificationsService = notificationsService;\r\n            this.dictionary = {};\r\n            this.warnOnEmptySave = JSON.parse($scope.model.config.warnOnEmptySave) as boolean;\r\n            this.isSeoTitle = JSON.parse($scope.model.config.isSeoTitle) as boolean;\r\n            this.isSeoDescription = JSON.parse($scope.model.config.isSeoDescription) as boolean;\r\n            this.isPixelCount = JSON.parse($scope.model.config.countWithPixels) as boolean;\r\n            this.displayAsTextbox = JSON.parse($scope.model.config.displayAsTextbox) as boolean;\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            if (this.remainingCount > this.maxCount) {\r\n                this.notificationsService.warning(this.dictionary.warningHeadline, this.dictionary.warningMessage);\r\n            }\r\n\r\n            if (!this.$scope.model.value && this.warnOnEmptySave) {\r\n                this.notificationsService.info(this.dictionary.infoHeadline, this.dictionary.infoMessage);\r\n            }\r\n        };\r\n\r\n        super($scope, $q, angularHelper, updateBehaviorFactory, beforeInitialize, formSubmitting);\r\n    }\r\n\r\n    initialize(): void {\r\n        // Loads Default Max Count\r\n        this.maxCount = this.$scope.model.config.maxCount;\r\n\r\n        if (this.isSeoTitle) {\r\n            // Transfer model to shareData \r\n            this.shareSeoDataService.setTitle(this.$scope.model.value, this.maxCount);\r\n        } else if (this.isSeoDescription) {\r\n            // Transfer model to shareData \r\n            this.shareSeoDataService.setDescription(this.$scope.model.value, this.maxCount);\r\n        }\r\n\r\n        // Attempts to re-define Max Count by description text\r\n        if (this.description) {\r\n            var maxSetInDescription = this.description.match(/\\d+/);\r\n            if (maxSetInDescription) {\r\n                var newMax = parseInt(maxSetInDescription[0]);\r\n                if (newMax > 0) {\r\n                    this.maxCount = Number(this.description.match(/\\d+/)[0]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    load(): angular.IPromise<any> {\r\n        return this.$q.all([\r\n            this.localizationService.localize(\"blueleetTextWithModeCount_warningHeadline\")\r\n                .then(value => {\r\n                    this.dictionary.warningHeadline = value;\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextWithModeCount_warningMessage\")\r\n                .then(value => {\r\n                    var warningMessage = this.$scope.model.config.warningMessage;\r\n                    if (!warningMessage) {\r\n                        warningMessage = this.$scope.model.label;\r\n                    }\r\n                    this.dictionary.warningMessage = value.replace(\"{0}\", warningMessage);\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextWithModeCount_infoHeadline\")\r\n                .then(value => {\r\n                    this.dictionary.infoHeadline = value;\r\n                }),\r\n            this.localizationService.localize(\"blueleetTextWithModeCount_infoMessage\")\r\n                .then(value => {\r\n                    var infoMessage = this.$scope.model.config.infoMessage;\r\n                    if (!infoMessage) {\r\n                        infoMessage = this.$scope.model.label;\r\n                    }\r\n                    this.dictionary.infoMessage = value.replace(\"{0}\", infoMessage);\r\n                })\r\n        ]);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/textWithModeCountController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as _ from \"underscore\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ToggleBoxAndSliderController\r\n* @function\r\n*\r\n* @description\r\n* Handles the toggle box and slider property editor.\r\n*/\r\nexport function ToggleBoxAndSliderController($scope: any, angularHelper: any, $timeout: any, $element: any) {\r\n    var vm = this;\r\n    const inverse = JSON.parse($scope.model.config.inverse) as Boolean;\r\n    var rangeSlider = $($element).find(\".range-slider\");\r\n\r\n    if ($scope.model.value.Enabled !== 1 && $scope.model.value.Enabled !== 0) {\r\n        // The value is corrupt set it to empty.\r\n        $scope.model.value = \"\";\r\n    }\r\n\r\n    if (!$scope.model.value) {\r\n        $scope.model.value = {};\r\n    }\r\n        \r\n    var enabled = $scope.model.value.Enabled as number;\r\n    if (typeof enabled !== \"number\" && (_.isUndefined(enabled) || _.isEmpty(enabled))) {\r\n        var parseDefault = JSON.parse($scope.model.config.default) as Boolean;\r\n        $scope.model.value.Enabled = parseDefault ? 1 : 0;\r\n    } else {\r\n        let savedValue = JSON.parse($scope.model.value.Enabled);\r\n        \r\n        if (inverse) {\r\n            $scope.model.value.Enabled = savedValue ? 0 : 1;\r\n        } else {\r\n            $scope.model.value.Enabled = savedValue ? 1 : 0;\r\n        }\r\n    }\r\n\r\n    if (!$scope.model.value.Priority) {\r\n        $scope.model.value.Priority = 0.5;\r\n    }\r\n\r\n    vm.setActive = () => {\r\n        if ($scope.model.value.Enabled === 1) {\r\n            vm.leftActive = true;\r\n            vm.rightActive = false;\r\n        }\r\n        else {\r\n            vm.rightActive = true;\r\n            vm.leftActive = false;\r\n        }\r\n    }\r\n    vm.setActive();\r\n\r\n    vm.setTrue = () => {\r\n        vm.setDirty();\r\n        $scope.model.value.Enabled = 1;\r\n        vm.setActive();\r\n    }\r\n\r\n    vm.setFalse = () => {\r\n        vm.setDirty();\r\n        $scope.model.value.Enabled = 0;\r\n        vm.setActive();\r\n    }\r\n\r\n    vm.setDirty = () => {\r\n        if (!vm.isDirty) {\r\n            vm.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    vm.rangeChange = () => {\r\n        $scope.model.value.Priority = vm.range / 10;\r\n    }\r\n\r\n    vm.initRange = () => {\r\n        if (rangeSlider) {\r\n            vm.range = $scope.model.value.Priority * 10;\r\n            $timeout(() => {\r\n                $(rangeSlider).rangeslider({\r\n                    polyfill: false\r\n                });\r\n            }, 500);\r\n        }\r\n        else {\r\n            $timeout(() => {\r\n                vm.initRange();\r\n            }, 500);\r\n        }\r\n    }\r\n    vm.initRange();\r\n\r\n    // Listen for formSubmitting event (the result is callback used to remove the event subscription)\r\n    var unsubscribe = $scope.$on(\"formSubmitting\", () => {\r\n        if (inverse) {\r\n            $scope.model.value.Enabled = $scope.model.value.Enabled ? 0 : 1;\r\n        }\r\n    });\r\n\r\n    // When the element is disposed we need to unsubscribe!\r\n    // NOTE: this is very important otherwise if this is part of a modal, the listener still exists because the dom \r\n    // element might still be there even after the modal has been hidden.\r\n    $scope.$on(\"$destroy\", () => {\r\n        unsubscribe();\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/toggleBoxAndSliderController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as _ from \"underscore\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ToggleBoxController\r\n* @function\r\n*\r\n* @description\r\n* Handles the toggle box property editor.\r\n*/\r\nexport function ToggleBoxController($scope: any, angularHelper: any) {\r\n    var vm = this;\r\n    const inverse = JSON.parse($scope.model.config.inverse) as Boolean;\r\n\r\n    if ($scope.model.value !== \"1\" && $scope.model.value !== \"0\") {\r\n        // The value is corrupt set it to empty.\r\n        $scope.model.value = \"\";\r\n    }\r\n\r\n    if (_.isEmpty($scope.model.value)) {\r\n        var parseDefault = JSON.parse($scope.model.config.default) as Boolean;\r\n        $scope.model.value = parseDefault ? 1 : 0;\r\n    } else {\r\n        let savedValue = JSON.parse($scope.model.value);\r\n        \r\n        if (inverse) {\r\n            $scope.model.value = savedValue ? 0 : 1;\r\n        } else {\r\n            $scope.model.value = savedValue ? 1 : 0;\r\n        }\r\n    }\r\n    \r\n    vm.setActive = () => {\r\n        if ($scope.model.value === 1) {\r\n            vm.leftActive = true;\r\n            vm.rightActive = false;\r\n        } else {\r\n            vm.rightActive = true;\r\n            vm.leftActive = false;\r\n        }\r\n    }\r\n    vm.setActive();\r\n\r\n    vm.setTrue = () => {\r\n        vm.setDirty();\r\n        $scope.model.value = 1;\r\n        vm.setActive();\r\n    }\r\n    vm.setFalse = () => {\r\n        vm.setDirty();\r\n        $scope.model.value = 0;\r\n        vm.setActive();\r\n    }\r\n\r\n    vm.setDirty = () => {\r\n        if (!vm.isDirty) {\r\n            vm.isDirty = true;\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    // Listen for formSubmitting event (the result is callback used to remove the event subscription)\r\n    var unsubscribe = $scope.$on(\"formSubmitting\", () => {\r\n        if (inverse) {\r\n            $scope.model.value = $scope.model.value ? 0 : 1;\r\n        }\r\n    });\r\n\r\n    // When the element is disposed we need to unsubscribe!\r\n    // NOTE: this is very important otherwise if this is part of a modal, the listener still exists because the dom \r\n    // element might still be there even after the modal has been hidden.\r\n    $scope.$on(\"$destroy\", () => {\r\n        unsubscribe();\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/toggleBoxController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as ng from \"angular\";\r\nimport { ControllerBase } from \"../Abstraction/ControllerBase\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ThemePickerController\r\n* @function\r\n*\r\n* @description\r\n* Handles the theme picker property editor.\r\n*/\r\nexport class ThemePickerController extends ControllerBase {\r\n    themePickerResource: any;\r\n    options: { key: string, value: any }[];\r\n    renderModel: { key: string, value: any };\r\n\r\n    static $inject = [\"$injector\", \"$scope\", \"angularHelper\", \"$q\", \"themePickerResource\"];\r\n    constructor($injector, $scope: any, angularHelper, $q: ng.IQService, themePickerResource: any) {\r\n        const beforeInitialize = () => {\r\n            this.themePickerResource = themePickerResource;\r\n            this.options = [];\r\n        };\r\n\r\n        const formSubmitting = () => {\r\n            if (this.isDirty) {\r\n                this.$scope.model.value = this.renderModel;\r\n            }\r\n        };\r\n\r\n        super($scope, $q, angularHelper, null, beforeInitialize, formSubmitting);\r\n    }\r\n    \r\n    selectDropdown() {\r\n        this.setDirty();\r\n    }\r\n\r\n    loadPromise(): Promise<any> {\r\n        return this.themePickerResource.getAll().then((value) => {\r\n            value.filter(option => {\r\n                this.options.push({ key: option.key, value: option.value });\r\n            });\r\n\r\n            if (this.$scope.model.value === \"\") {\r\n                if (value.length) {\r\n                    this.renderModel = { key: this.options[0].key, value: this.options[0].value };\r\n                    this.$scope.model.value = this.options[0].key;\r\n                }\r\n            } else {\r\n                for (let index = 0; index < this.options.length; index++) {\r\n                    let option = this.options[index];\r\n                    if (option.key === this.$scope.model.value) {\r\n                        this.renderModel = { key: value[index].key, value: value[index].value };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/themePickerController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.ToggleBoxController\r\n* @function\r\n*\r\n* @description\r\n* Handles the macro list property editor.\r\n*/\r\nexport function MacroListController($scope: any, entityResource: any, assetsService: any) {\r\n    var macroExists = (macroList, macroId) => {\r\n        for (var i = 0; i < macroList.length; i++) {\r\n            if (macroList[i].id === macroId) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    var getMacroById = macroId => {\r\n        for (var i = 0; i < $scope.macros.length; i++) {\r\n            if ($scope.macros[i].id === macroId) {\r\n                return $scope.macros[i];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    $scope.macros = [];\r\n    $scope.selectedMacros = [];\r\n\r\n    $scope.toggleMacro = macro => {\r\n        if ($scope.selectedMacros.indexOf(macro) === -1) {\r\n            $scope.selectedMacros.push(macro);\r\n        } else {\r\n            $scope.selectedMacros.splice($scope.selectedMacros.indexOf(macro), 1);\r\n        }\r\n    };\r\n\r\n    $scope.isSelected = macro => {\r\n        var indexOf = macroExists($scope.selectedMacros, macro.id);\r\n\r\n        return indexOf;\r\n    };\r\n\r\n    $scope.sync = () => {\r\n        var macroList = () => {\r\n            var tmpMacroList = [];\r\n\r\n            for (var i = 0; i < $scope.selectedMacros.length; i++) {\r\n                var item = $scope.selectedMacros[i];\r\n                tmpMacroList.push({ id: item.id });\r\n            }\r\n\r\n            return tmpMacroList;\r\n        };\r\n\r\n        $scope.model.value = macroList();\r\n    };\r\n\r\n    //listen for formSubmitting event (the result is callback used to remove the event subscription)\r\n    var unsubscribe = $scope.$on(\"formSubmitting\", () => {\r\n        $scope.sync();\r\n    });\r\n\r\n    //when the element is disposed we need to unsubscribe!\r\n    // NOTE: this is very important otherwise if this is part of a modal, the listener still exists because the dom \r\n    // element might still be there even after the modal has been hidden.\r\n    $scope.$on(\"$destroy\", () => {\r\n        unsubscribe();\r\n    });\r\n    \r\n    //get the macro list\r\n    entityResource.getAll(\"Macro\", null)\r\n        .then(data => {\r\n\r\n            $scope.macros = data;\r\n\r\n            if (angular.isArray($scope.model.value)) {\r\n                // Select previusly saved macros.\r\n\r\n                for (var i = 0; i < $scope.model.value.length; i++) {\r\n                    var item = $scope.model.value[i];\r\n\r\n                    // We don't want to select macros that no longer exists\r\n                    if (macroExists(data, item.id)) {\r\n                        var macro = getMacroById(item.id);\r\n\r\n                        $scope.selectedMacros.push(macro);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/macroListController.ts","/// <reference path=\"../../_references.d.ts\"/>\r\nimport * as angular from \"angular\";\r\nimport * as $ from \"jquery\";\r\n\r\n/**\r\n* @ngdoc controller\r\n* @name BlueLeet.DropdownController\r\n* @function\r\n*\r\n* @description\r\n* Handles the drop-down property editor.\r\n*/\r\nexport function KeyValuePairEditorController($rootScope, $scope, $element, notificationsService, angularHelper) {\r\n    const el = $($element);\r\n\r\n    // Check if the editor is in an overlay.\r\n    let overlayEl = el.parents(\".umb-overlay.umb-overlay-right\");\r\n    if (overlayEl.length && overlayEl.width() <= 500) {\r\n\r\n        // increase the width so the editor fit.\r\n        overlayEl.width(\"726px\");\r\n    }\r\n\r\n    // setup the default configure\r\n    var config = {\r\n        keyTitle: \"Key\",\r\n        valueTitle: \"Value\",\r\n        useTextarea: false,\r\n        allowDuplicateKeys: false\r\n    };\r\n\r\n    if (!angular.isUndefined($scope.model.config) && $scope.model.config !== null) {\r\n        // for some reason the boolean saves 1 and 0 and 1 results into true but when it is 0 it results in 0 and no false...\r\n        if ($scope.model.config.useTextarea == 0) {\r\n            $scope.model.config.useTextarea = false;\r\n        } else if ($scope.model.config.useTextarea == 1) {\r\n            $scope.model.config.useTextarea = true;\r\n        }\r\n\r\n        if ($scope.model.config.allowDuplicateKeys == 0) {\r\n            $scope.model.config.allowDuplicateKeys = false;\r\n        } else if ($scope.model.config.allowDuplicateKeys == 1) {\r\n            $scope.model.config.allowDuplicateKeys = true;\r\n        }\r\n\r\n        // map the user configure\r\n        angular.extend(config, $scope.model.config);\r\n    }\r\n\r\n    // map back to the model\r\n    $scope.model.config = config;\r\n\r\n    if (!$scope.model.value) {\r\n        $scope.model.value = [];\r\n    } else {\r\n        // Backwards Compatibility\r\n        for (let i = 0; i < $scope.model.value.length; i++) {\r\n            if ($scope.model.value[i].value) {\r\n                $scope.model.value[i].Value = $scope.model.value[i].value;\r\n                delete $scope.model.value[i].value;\r\n            }\r\n\r\n            if ($scope.model.value[i].key) {\r\n                $scope.model.value[i].Key = $scope.model.value[i].key;\r\n                delete $scope.model.value[i].key;\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.newKey = '';\r\n    $scope.newValue = '';\r\n    $scope.hasError = false;\r\n    $scope.tmpValue = [];\r\n\r\n    $scope.edit = function (idx) {\r\n        for (let i = 0; i < $scope.model.value.length; i++) {\r\n            $scope.model.value[i].edit = false;\r\n        }\r\n        $scope.model.value[idx].edit = true;\r\n\r\n        setDirty();\r\n    };\r\n\r\n    $scope.cancelEdit = function (idx) {\r\n        $scope.model.value[idx].edit = false;\r\n        setPristine();\r\n    };\r\n\r\n    $scope.delete = function (idx) {\r\n        let removedItem = $scope.model.value.splice(idx, 1)[0];\r\n        for (var i = 0; i < $scope.tmpValue.length; i++) {\r\n            if ($scope.tmpValue[i].Key === removedItem.Key) {\r\n                // The removed item is unsaved do nothing.\r\n                return;\r\n            }\r\n        }\r\n\r\n        // If we get here this item is not unsaved.\r\n        $scope.hasChanges = true;\r\n        setDirty();\r\n    };\r\n\r\n    $scope.add = function () {\r\n        if ($scope.newKey == \"\") {\r\n            $scope.hasError = true;\r\n\r\n            notificationsService.error(\"Error\", $scope.model.config.keyTitle + \" can't be empty!\");\r\n        } else if ($scope.model.config.allowDuplicateKeys == false && keyExists($scope.newKey)) {\r\n            $scope.hasError = true;\r\n\r\n            notificationsService.error(\"Error\", $scope.model.config.keyTitle + \" already exists! (\" + $scope.newKey + \")\");\r\n        } else {\r\n            $scope.hasChanges = true;\r\n            setDirty();\r\n\r\n            var newModel = new function () {\r\n                this.Key = $scope.newKey;\r\n                this.Value = $scope.newValue;\r\n            };\r\n\r\n            $scope.model.value.push(newModel);\r\n            $scope.tmpValue.push(newModel);\r\n\r\n            // reset\r\n            $scope.newKey = '';\r\n            $scope.newValue = '';\r\n        }\r\n    };\r\n\r\n    //defines the options for the jquery sortable    \r\n    $scope.sortableOptions = {\r\n        items: \".ui-sortable\",\r\n        cursor: \"move\"\r\n    };\r\n\r\n    function setPristine() {\r\n        if ($scope.hasChanges == false) {\r\n            var currentForm = angularHelper.getCurrentForm($scope);\r\n            currentForm.$setPristine();\r\n        }\r\n    }\r\n\r\n    function setDirty() {\r\n        var currentForm = angularHelper.getCurrentForm($scope);\r\n        if (currentForm.$dirty === false) {\r\n            currentForm.$setDirty();\r\n        }\r\n    }\r\n\r\n    function keyExists(key) {\r\n        for (var i = 0; i < $scope.model.value.length; i++) {\r\n            if ($scope.model.value[i].Key === key) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/Controllers/PropertyEditors/keyValuePairEditorController.ts","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 138\n// module chunks = 0 1"],"sourceRoot":""}