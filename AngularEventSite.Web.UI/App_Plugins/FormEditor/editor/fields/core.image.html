<div class="umb-panel form-editor-edit-field" ng-controller="FormEditor.Editor.FieldController">
  <div class="umb-panel-body no-header with-footer umb-scrollable">
    <div class="umb-control-group">
      <div class="tab-content form umb-el-wrap">
        <form-editor-field-header></form-editor-field-header>

        <div class="umb-pane">
          <label class="control-label">
            <form-editor-localize key="edit.image.choose">Choose image</form-editor-localize>
            <small form-editor-localize key="edit.image.choose.helpText">Click below to choose an image</small>
          </label>
          <div class="imageField">
            <div ng-show="dialogData.field.mediaId == 0 || !dialogData.field.mediaUrl">
              <a href ng-click="pickImage()" class="umb-mediapicker" ng-show="dialogData.field.mediaId == 0">
                <div class="add-link">
                  <i class="icon icon-add large"></i>
                </div>
              </a>
            </div>
            <div ng-show="dialogData.field.mediaId != 0 && dialogData.field.mediaUrl">
              <a href ng-click="pickImage()">
                <div class="thumbnail">
                  <img src="{{dialogData.field.mediaUrl}}?width=300&mode=max" />
                </div>
              </a>
              <i class="icon icon-delete dimmed" ng-click="dialogData.field.mediaId = 0;dialogData.field.mediaUrl = null" />
            </div>
          </div>

          <label class="control-label" for="text">
            <form-editor-localize key="edit.image.caption">Caption</form-editor-localize>
            <small form-editor-localize key="edit.image.caption.helpText">The text to display as caption for the image</small>
          </label>
          <input type="text" id="text" autofocus ng-model="dialogData.field.text" />
        </div>
      </div>
    </div>
  </div>

  <form-editor-field-footer></form-editor-field-footer>
</div>